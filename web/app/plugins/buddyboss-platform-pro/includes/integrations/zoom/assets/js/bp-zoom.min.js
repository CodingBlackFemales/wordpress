window.bp=window.bp||{},function(u){bp.Zoom={start:function(){this.setupGlobals(),this.addListeners()},setupGlobals:function(){this.bp_zoom_ajax=!1,this.bp_zoom_meeting_container_elem="#bp-zoom-meeting-container",this.bp_zoom_webinar_container_elem="#bp-zoom-webinar-container",this.select2_laguage_text="en",this.zoom_languages=["de-DE","es-ES","en-US","fr-FR","jp-JP","pt-PT","ru-RU","zh-CN","zh-TW","ko-KO","vi-VN","it-IT","pl-PL","tr-TR"],"undefined"!=typeof bp_select2&&void 0!==bp_select2.i18n?this.select2_laguage_text={errorLoading:function(){return bp_select2.i18n.errorLoading},inputTooLong:function(e){e=e.input.length-e.maximum;return bp_select2.i18n.inputTooLong.replace("%%",e)},inputTooShort:function(e){return bp_select2.i18n.inputTooShort.replace("%%",e.minimum-e.input.length)},loadingMore:function(){return bp_select2.i18n.loadingMore},maximumSelected:function(e){return bp_select2.i18n.maximumSelected.replace("%%",e.maximum)},noResults:function(){return bp_select2.i18n.noResults},searching:function(){return bp_select2.i18n.searching},removeAllItems:function(){return bp_select2.i18n.removeAllItems}}:"undefined"!=typeof bp_select2&&void 0!==bp_select2.lang&&(this.select2_laguage_text=bp_select2.lang)},addListeners:function(){u("#meetings-list").scroll("scroll",this.scrollMeetings.bind(this)),u("#meetings-list").on("click",".load-more a",this.loadMoreMeetings.bind(this)),u(document).on("click","#meetings-list .meeting-item, #bp-zoom-meeting-cancel-edit",this.loadSingleMeeting.bind(this)),u(document).on("click",".bp-back-to-meeting-list",this.backToMeetingList.bind(this)),u(document).on("click",".bp-close-create-meeting-form",this.backToMeetingList.bind(this)),u(document).on("click","#bp-zoom-create-meeting-button",this.loadCreateMeeting.bind(this)),u(document).on("click","#bp-zoom-meeting-edit-button",this.loadEditMeeting.bind(this)),u(document).on("click","#bp-zoom-meeting-occurrence-edit-button",this.openOccurrenceEditPopup.bind(this)),u(document).on("click","#bp-zoom-meeting-occurrence-delete-button",this.openOccurrenceDeletePopup.bind(this)),u(document).on("click","#bp-zoom-only-this-meeting-edit",this.loadEditOccurrence.bind(this)),u(document).on("click","#bp-zoom-all-meeting-edit",this.loadEditMeeting.bind(this)),u(document).on("click","#bp-zoom-meeting-form-submit",this.updateMeeting.bind(this)),u(document).on("click",".bp-zoom-delete-meeting",this.deleteMeeting.bind(this)),u(document).on("click","#bp-zoom-only-this-meeting-delete",this.deleteOnlyThisMeeting.bind(this)),u(document).on("click","#bp-zoom-all-meeting-delete",this.deleteAllMeetingOccurrences.bind(this)),u(document).on("click","#bp-zoom-single-meeting .toggle-password",this.togglePassword.bind(this)),u(document).on("click",".recording-list-row .toggle-password",this.toggleRecordingPassword.bind(this)),u(document).on("click","#copy-invitation-details",this.copyInvitationDetails.bind(this)),u(document).on("click","#copy-download-link",this.copyDownloadLink.bind(this)),u(document).on("click",".play_btn, .bb-shared-screen",this.openRecordingModal.bind(this)),u(document).on("click",".bb-close-model",this.closeRecordingModal.bind(this)),u(document).on("click",".meeting-actions-anchor",this.openMeetingActions.bind(this)),u(document).on("submit","#bp-zoom-meeting-container #bp_zoom_meeting_search_form",this.searchMeetingActions.bind(this)),u(document).on("change","#bp-zoom-meeting-container #bp-zoom-meeting-recorded-switch-checkbox",this.searchMeetingActions.bind(this)),u(document).on("change","#bp-zoom-meeting-auto-recording",this.toggleAutoRecording.bind(this)),u(document).on("change","#bp-zoom-meeting-recurring",this.toggleRecurring.bind(this)),u(document).on("change","#bp-zoom-meeting-recurrence",this.toggleRecurrence.bind(this)),u(document).on("change","#bp-zoom-meeting-notification",this.toggleNotification.bind(this)),u(document).on("change","#bp-zoom-meeting-start-date",this.toggleDates.bind(this)),u(document).on("change","#bp-zoom-meeting-repeat-interval",this.toggleRepeatInterval.bind(this)),u(document).on("change","#bp-zoom-meeting-registration",this.toggleRegistration.bind(this)),u(document).on("ready",this.documentReady.bind(this)),u(document).on("bp_ajax_request",this.bp_ajax_request.bind(this)),u(document).on("change",".bp-zoom-recordings-dates",this.scrollToRecordings.bind(this)),u(document).on("change","#bp-zoom-meeting-timezone",this.changeTimezone.bind(this)),u(document).on("click",".join-meeting-in-browser",this.joinMeetingInBrowser.bind(this)),u(document).on("click",".bb-zoom-setting-tab .bb-zoom-setting-tabs a",this.settingTab.bind(this)),u(document).on("click",".bb-zoom-setting-tab .bb-zoom-setting-content .copy-toggle .bb-copy-button, .bp-zoom-group-show-instructions #zoom-instruction-container .copy-toggle .bb-copy-button",this.copyText.bind(this)),u("#webinars-list").scroll("scroll",this.scrollWebinars.bind(this)),u("#webinars-list").on("click",".load-more a",this.loadMoreWebinars.bind(this)),u(document).on("click","#webinars-list .webinar-item, #bp-zoom-webinar-cancel-edit",this.loadSingleWebinar.bind(this)),u(document).on("click",".bp-back-to-webinar-list",this.backToWebinarsList.bind(this)),u(document).on("click",".bp-close-create-webinar-form",this.backToWebinarsList.bind(this)),u(document).on("click","#bp-zoom-create-webinar-button",this.loadCreateWebinar.bind(this)),u(document).on("click","#bp-zoom-webinar-edit-button",this.loadEditWebinar.bind(this)),u(document).on("click","#bp-zoom-webinar-occurrence-edit-button",this.openWebinarOccurrenceEditPopup.bind(this)),u(document).on("click","#bp-zoom-webinar-occurrence-delete-button",this.openWebinarOccurrenceDeletePopup.bind(this)),u(document).on("click","#bp-zoom-only-this-webinar-edit",this.loadEditWebinarOccurrence.bind(this)),u(document).on("click","#bp-zoom-all-webinar-edit",this.loadEditWebinar.bind(this)),u(document).on("click","#bp-zoom-webinar-form-submit",this.updateWebinar.bind(this)),u(document).on("click",".bp-zoom-delete-webinar",this.deleteWebinar.bind(this)),u(document).on("click","#bp-zoom-only-this-webinar-delete",this.deleteOnlyThisWebinar.bind(this)),u(document).on("click","#bp-zoom-all-webinar-delete",this.deleteAllWebinarOccurrences.bind(this)),u(document).on("click","#bp-zoom-single-webinar .toggle-password",this.toggleWebinarPassword.bind(this)),u(document).on("click",".webinar-actions-anchor",this.openWebinarActions.bind(this)),u(document).on("submit","#bp-zoom-webinar-container #bp_zoom_webinar_search_form",this.searchWebinarActions.bind(this)),u(document).on("change","#bp-zoom-webinar-container #bp-zoom-webinar-recorded-switch-checkbox",this.searchWebinarActions.bind(this)),u(document).on("change","#bp-zoom-webinar-auto-recording",this.toggleWebinarAutoRecording.bind(this)),u(document).on("change","#bp-zoom-webinar-recurring",this.toggleWebinarRecurring.bind(this)),u(document).on("change","#bp-zoom-webinar-recurrence",this.toggleWebinarRecurrence.bind(this)),u(document).on("change","#bp-zoom-webinar-notification",this.toggleWebinarNotification.bind(this)),u(document).on("change","#bp-zoom-webinar-start-date",this.toggleWebinarDates.bind(this)),u(document).on("change","#bp-zoom-webinar-repeat-interval",this.toggleWebinarRepeatInterval.bind(this)),u(document).on("change","#bp-zoom-webinar-registration",this.toggleWebinarRegistration.bind(this)),u(document).on("change","#bp-zoom-webinar-timezone",this.changeWebinarTimezone.bind(this)),u(document).on("click",".join-webinar-in-browser",this.joinWebinarInBrowser.bind(this)),u(document).on("change",".bb-toggle-switch #bp-zoom-type-switch",this.switchZoomType.bind(this)),this.catchMeetingStartInBrowser(),this.catchWebinarStartInBrowser(),u(document).on("click","#meetings-sync",this.syncGroupMeetings.bind(this)),u(document).on("click","#webinars-sync",this.syncGroupWebinars.bind(this)),u(document).on("click",".bb-zoom-setting-content .bb-hide-pw, #zoom-instruction-container .bb-hide-pw",this.togglePasswordTooltip.bind(this)),document.addEventListener("keyup",this.checkPressedKey.bind(this)),u(document).on("click","body.zoom",function(e){return u(e.target).hasClass("meeting-actions-anchor")||u(e.target).parent().hasClass("meeting-actions-anchor")||(u(".meeting-actions-list.open").removeClass("open"),u(e.target).hasClass("webinar-actions-anchor"))||u(e.target).parent().hasClass("webinar-actions-anchor")?e:void u(".webinar-actions-list.open").removeClass("open")}),u(document).on("click",".bp-toggle-meeting-password",function(e){e.preventDefault();var e=u(this),t=e.next("#bp-zoom-meeting-password");e.toggleClass("bb-eye"),e.hasClass("bb-eye")?t.attr("type","text"):t.attr("type","password")}),u(document).on("click",".bp-toggle-webinar-password",function(e){e.preventDefault();var e=u(this),t=e.next("#bp-zoom-webinar-password");e.toggleClass("bb-eye"),e.hasClass("bb-eye")?t.attr("type","text"):t.attr("type","password")}),this.mask_meeting_id(),this.mask_webinar_id()},catchMeetingStartInBrowser:function(){var e=this.getLinkParams(window.location.href,"wm"),t=this.getLinkParams(window.location.href,"mi");1===parseInt(e)&&""!==t&&u('.join-meeting-in-browser[data-meeting-id="'+t+'"]').length&&(u('.join-meeting-in-browser[data-meeting-id="'+t+'"]').trigger("click"),setTimeout(function(){u("#bp-zoom-dummy-web-div").remove()},500))},catchWebinarStartInBrowser:function(){var e=this.getLinkParams(window.location.href,"wm"),t=this.getLinkParams(window.location.href,"wi");1===parseInt(e)&&""!==t&&u('.join-webinar-in-browser[data-webinar-id="'+t+'"]').length&&(u('.join-webinar-in-browser[data-webinar-id="'+t+'"]').trigger("click"),setTimeout(function(){u("#bp-zoom-dummy-web-div").remove()},500))},bp_ajax_request:function(){this.triggerCountdowns(),this.triggerLibsOnForm(),this.mask_meeting_id(),this.mask_webinar_id()},documentReady:function(){this.triggerCountdowns(),this.triggerLibsOnForm(),this.triggerFetchRecordings(),this.triggerFetchWebinarRecordings()},scrollToRecordings:function(e){var t,e=u(e.target),e=u(".mfp-content .bp-zoom-block-show-recordings").find('[data-recorded-date="'+e.val()+'"]');e.length&&(t=e.outerHeight(),u(e.nextAll()).each(function(){t+=u(this).outerHeight()}),u(".mfp-content .recording-list-row-wrap").animate({scrollTop:u(".mfp-content .recording-list-row-wrap")[0].scrollHeight-t},100))},triggerFetchRecordings:function(){var o=[];u(".bp-zoom-meeting-recording-fetch").each(function(e,t){t=u(t).data("meeting-id");o.push(t)}),this.fetchRecording(o,0)},triggerFetchWebinarRecordings:function(){var o=[];u(".bp-zoom-webinar-recording-fetch").each(function(e,t){t=u(t).data("webinar-id");o.push(t)}),this.fetchWebinarRecording(o,0)},fetchRecording:function(n,i){var e,t,o,a=this;void 0!==n[i]&&(e=u(document).find("#bp-zoom-meeting-recording-"+n[i]).data("title"),t=u(document).find("#bp-zoom-meeting-recording-"+n[i]).data("occurrence-id"),o=u(document).find("#bp-zoom-meeting-recording-"+n[i]).data("zoom-block"),u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_meeting_recordings",meeting_id:n[i],title:e,block:o,occurrence_id:t},success:function(e){var t,o;e.success&&void 0!==e.data&&(u(document).find("#bp-zoom-meeting-recording-"+n[i]).replaceWith(e.data.contents),void 0!==jQuery.fn.magnificPopup&&jQuery(".show-recordings").magnificPopup({type:"inline",midClick:!0,callbacks:{open:function(){bp.Zoom.autoScrollToDateInRecordingPopup()}}}),0<e.data.id&&(t=u("#meetings-list").find('li.meeting-item[data-id="'+e.data.id+'"]')).length&&((o=t.find(".view-recordings")).length?0<e.data.count?o.replaceWith('<a role="button" href="#" class="button small view-recordings bp-zoom-meeting-view-recordings">\n\t\t\t\t\t<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><g fill="#FFF" fill-rule="evenodd"><rect width="9.451" height="8" rx="1.451"/><path d="M10.5 1.64v4.753l1.637 1.046a.571.571 0 00.879-.482V1.055a.571.571 0 00-.884-.48L10.5 1.64z"/></g></svg>\n\t\t\t\t\t<span class="record-count">'+e.data.count+"</span>\n\t\t\t\t</a>"):o.remove():0<e.data.count&&t.find(".meeting-item-col.meeting-topic").append('<a role="button" href="#" class="button small view-recordings bp-zoom-meeting-view-recordings">\n\t\t\t\t\t<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><g fill="#FFF" fill-rule="evenodd"><rect width="9.451" height="8" rx="1.451"/><path d="M10.5 1.64v4.753l1.637 1.046a.571.571 0 00.879-.482V1.055a.571.571 0 00-.884-.48L10.5 1.64z"/></g></svg>\n\t\t\t\t\t<span class="record-count">'+e.data.count+"</span>\n\t\t\t\t</a>")),i+=1,a.fetchRecording(n,i))}}))},fetchWebinarRecording:function(n,i){var e,t,o,a=this;void 0!==n[i]&&(e=u(document).find("#bp-zoom-webinar-recording-"+n[i]).data("title"),t=u(document).find("#bp-zoom-webinar-recording-"+n[i]).data("occurrence-id"),o=u(document).find("#bp-zoom-webinar-recording-"+n[i]).data("zoom-block"),u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_webinar_recordings",webinar_id:n[i],title:e,block:o,occurrence_id:t},success:function(e){var t,o;e.success&&void 0!==e.data&&(u(document).find("#bp-zoom-webinar-recording-"+n[i]).replaceWith(e.data.contents),jQuery(".show-recordings").magnificPopup({type:"inline",midClick:!0,callbacks:{open:function(){bp.Zoom.autoScrollToDateInRecordingPopup()}}}),0<e.data.id&&(t=u("#webinars-list").find('li.webinar-item[data-id="'+e.data.id+'"]')).length&&((o=t.find(".view-recordings")).length?0<e.data.count?o.replaceWith('<a role="button" href="#" class="button small view-recordings bp-zoom-webinar-view-recordings">\n\t\t\t\t\t<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><g fill="#FFF" fill-rule="evenodd"><rect width="9.451" height="8" rx="1.451"/><path d="M10.5 1.64v4.753l1.637 1.046a.571.571 0 00.879-.482V1.055a.571.571 0 00-.884-.48L10.5 1.64z"/></g></svg>\n\t\t\t\t\t<span class="record-count">'+e.data.count+"</span>\n\t\t\t\t</a>"):o.remove():0<e.data.count&&t.find(".webinar-item-col.webinar-topic").append('<a role="button" href="#" class="button small view-recordings bp-zoom-webinar-view-recordings">\n\t\t\t\t\t<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><g fill="#FFF" fill-rule="evenodd"><rect width="9.451" height="8" rx="1.451"/><path d="M10.5 1.64v4.753l1.637 1.046a.571.571 0 00.879-.482V1.055a.571.571 0 00-.884-.48L10.5 1.64z"/></g></svg>\n\t\t\t\t\t<span class="record-count">'+e.data.count+"</span>\n\t\t\t\t</a>")),i+=1,a.fetchWebinarRecording(n,i))}}))},triggerCountdowns:function(){var e=u(".bp_zoom_countdown");e.length&&e.each(function(){var i=u(this),e=u(this).data("timer"),e=1e3*parseInt(e);u(this).bbCountDown({timestamp:e,callback:function(e,t,o,n){0===e+t+o+n&&i.remove()}}),setTimeout(function(){"0"==i.find(".countDays .position:first").text().trim()?(i.find(".countDays .position:first").hide(),i.find(".countDays").addClass("digits-2")):i.find(".countDays").addClass("digits-3")},250)})},triggerLibsOnForm:function(){u(".copy-invitation-link").magnificPopup({type:"inline",midClick:!0}),jQuery(".show-recordings").magnificPopup({type:"inline",midClick:!0,callbacks:{open:function(){bp.Zoom.autoScrollToDateInRecordingPopup()}}}),jQuery(".show-meeting-details").magnificPopup({type:"inline",midClick:!0,callbacks:{beforeClose:function(){this.content.hasClass("copy-invitation-popup-block")&&u(".mfp-close").show()}}}),jQuery(".show-webinar-details").magnificPopup({type:"inline",midClick:!0});var e,a=u("#bp-zoom-single-meeting-wrapper"),r=(void 0!==jQuery.fn.datetimepicker&&(a.find("#bp-zoom-meeting-start-date").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,yearStart:(new Date).getFullYear(),defaultDate:new Date,scrollMonth:!1,scrollTime:!1,scrollInput:!1,onSelectDate:function(e,t){a.find("#bp-zoom-meeting-end-date-time").datetimepicker({minDate:t.val()})}}),a.find("#bp-zoom-meeting-end-date-time").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,defaultDate:(new Date).setDate((new Date).getDate()+6),scrollMonth:!1,scrollTime:!1,scrollInput:!1}),a.find("#bp-zoom-meeting-start-time").datetimepicker({format:"h:i",formatTime:"h:i",datepicker:!1,hours12:!0,step:30}),e={placeholder:"hh:mm",translation:{P:{pattern:/0|1/,optional:!1},Q:{pattern:/0|1|2/,optional:!1},X:{pattern:/0|[1-9]/,optional:!1},Y:{pattern:/[0-5]/,optional:!1},Z:{pattern:/[0-9]/,optional:!1}},onKeyPress:function(e,t,o,n){var i=["PX:YZ","PQ:YZ"],e=1<e.length&&0<e.substr(0,1)?i[1]:i[0];a.find("#bp-zoom-meeting-start-time").mask(e,n)}},a.find("#bp-zoom-meeting-start-time").mask("PX:YZ",e)),void 0!==jQuery.fn.select2&&a.find("#bp-zoom-meeting-timezone").select2({minimumInputLength:0,closeOnSelect:!0,language:this.select2_laguage_text,dropdownCssClass:"bb-select-dropdown",containerCssClass:"bb-select-container"}),u("#bp-zoom-single-webinar-wrapper"));void 0!==jQuery.fn.datetimepicker&&(r.find("#bp-zoom-webinar-start-date").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,yearStart:(new Date).getFullYear(),defaultDate:new Date,scrollMonth:!1,scrollTime:!1,scrollInput:!1,onSelectDate:function(e,t){r.find("#bp-zoom-webinar-end-date-time").datetimepicker({minDate:t.val()})}}),r.find("#bp-zoom-webinar-end-date-time").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,defaultDate:(new Date).setDate((new Date).getDate()+6),scrollMonth:!1,scrollTime:!1,scrollInput:!1}),r.find("#bp-zoom-webinar-start-time").datetimepicker({format:"h:i",formatTime:"h:i",datepicker:!1,hours12:!0,step:30}),e={placeholder:"hh:mm",translation:{P:{pattern:/0|1/,optional:!1},Q:{pattern:/0|1|2/,optional:!1},X:{pattern:/0|[1-9]/,optional:!1},Y:{pattern:/[0-5]/,optional:!1},Z:{pattern:/[0-9]/,optional:!1}},onKeyPress:function(e,t,o,n){var i=["PX:YZ","PQ:YZ"],e=1<e.length&&0<e.substr(0,1)?i[1]:i[0];r.find("#bp-zoom-webinar-start-time").mask(e,n)}},r.find("#bp-zoom-webinar-start-time").mask("PX:YZ",e)),void 0!==jQuery.fn.select2&&r.find("#bp-zoom-webinar-timezone").select2({minimumInputLength:0,closeOnSelect:!0,language:this.select2_laguage_text,dropdownCssClass:"bb-select-dropdown",containerCssClass:"bb-select-container"})},autoScrollToDateInRecordingPopup:function(){var e,t=u(".mfp-content"),o=u("#bp-zoom-single-meeting").data("meeting-start-date"),n=t.find(".bp-zoom-block-show-recordings").find('[data-recorded-date="'+o+'"]');n.length||(o=new Date(o),t.find("[data-recorded-date]").each(function(){var e=u(this).data("recorded-date");if(new Date(e).getTime()===o.getTime())return n=t.find(".bp-zoom-block-show-recordings").find('[data-recorded-date="'+e+'"]'),!1}),n.length)||t.find("[data-recorded-date]").each(function(){var e=u(this).data("recorded-date");if(new Date(e).getTime()>=o.getTime())return n=t.find(".bp-zoom-block-show-recordings").find('[data-recorded-date="'+e+'"]'),!1}),n.length&&(e=n.outerHeight(),u(n.nextAll()).each(function(){e+=u(this).outerHeight()}),t.find(".recording-list-row-wrap").animate({scrollTop:t.find(".recording-list-row-wrap")[0].scrollHeight-e},100),u(".bp-zoom-recordings-dates").val(n.data("recorded-date")))},toggleAutoRecording:function(e){var e=u(e.target),t=e.closest("form").find(".bp-zoom-meeting-auto-recording-options");e.is(":checked")?t.removeClass("bp-hide"):t.addClass("bp-hide")},toggleRecurring:function(e){var e=u(e.target),t=e.closest("form").find(".bp-zoom-meeting-recurring-options"),o=e.closest("form").find(".bp-zoom-meeting-registration-options");e.is(":checked")?(t.removeClass("bp-hide"),e.closest("form").find("#bp-zoom-meeting-registration").is(":checked")&&e.closest("form").find("#bp-zoom-meeting-recurring").is(":checked")&&["1","2","3"].includes(e.closest("form").find("#bp-zoom-meeting-recurrence").val())&&o.removeClass("bp-hide")):(t.addClass("bp-hide"),o.addClass("bp-hide"))},formatDate:function(e){var e=new Date(e),t=""+(e.getMonth()+1),o=""+e.getDate();return[e.getFullYear(),t=t.length<2?"0"+t:t,o=o.length<2?"0"+o:o].join("-")},toggleDates:function(e){var t=u(e.target).closest("form"),o=t.find("#bp-zoom-meeting-recurrence"),n=t.find("#bp-zoom-meeting-repeat-interval"),i=t.find("#bp-zoom-meeting-start-date"),t=t.find("#bp-zoom-meeting-end-date-time"),i=new Date(i.val()),a=new Date(t.val());e.preventDefault(),i.getTime()>=a.getTime()&&("1"==o.val()&&(i.setDate(i.getDate()+6*n.val()),t.val(this.formatDate(i))),"2"==o.val()&&(i.setDate(i.getDate()+7*n.val()*6),t.val(this.formatDate(i))),"3"==o.val())&&(i.setMonth(i.getMonth()+6*n.val()),t.val(this.formatDate(i)))},toggleRegistration:function(e){var e=u(e.target),t=e.closest("form#bp_zoom_meeting_form"),o=t.find(".bp-zoom-meeting-registration-options");e.is(":checked")&&t.find("#bp-zoom-meeting-recurring").is(":checked")&&["1","2","3"].includes(t.find("#bp-zoom-meeting-recurrence").val())?o.removeClass("bp-hide"):o.addClass("bp-hide")},toggleRepeatInterval:function(e){var t=u(e.target),o=t.closest("form").find("#bp-zoom-meeting-recurrence"),n=t.closest("form").find("#bp-zoom-meeting-start-date"),i=t.closest("form").find("#bp-zoom-meeting-end-date-time"),n=new Date(n.val()),a=new Date;e.preventDefault(),"1"==o.val()&&(a.setDate(n.getDate()+6*t.val()),i.val(this.formatDate(a))),"2"==o.val()&&(a.setDate(n.getDate()+7*t.val()*6),i.val(this.formatDate(a))),"3"==o.val()&&(a.setMonth(n.getMonth()+6*t.val()),i.val(this.formatDate(a)))},toggleRecurrence:function(e){var t=u(e.target),o=t.closest("form"),n=o.find(".bp-zoom-meeting-recurring-sub-options"),i=o.find(".bp-zoom-meeting-registration-options"),a=o.find(".bp-zoom-meeting-registration-wrapper"),r=o.find(".bp-zoom-meeting-occurs-on"),s=o.find("#bp-zoom-meeting-occurs-on-month"),d=o.find("#bp-zoom-meeting-occurs-on-week"),c=o.find("#bp-zoom-meeting-repeat-interval-type"),m=o.find("#bp-zoom-meeting-repeat-interval"),l=o.find("#bp-zoom-meeting-start-date"),p=o.find("#bp-zoom-meeting-end-date-time"),b=1,g="",l=new Date(l.val()),o=o.find(".bp-zoom-meeting-occurs-on > label");if(e.preventDefault(),"-1"==t.val())n.addClass("bp-hide"),i.addClass("bp-hide"),a.addClass("bp-hide");else{if(t.closest("form").find("#bp-zoom-meeting-registration").is(":checked")&&t.closest("form").find("#bp-zoom-meeting-recurring").is(":checked")&&i.removeClass("bp-hide"),a.removeClass("bp-hide"),"1"==t.val()){for(r.addClass("bp-hide"),c.text(bp_zoom_vars.strings.day),g="",o.text(function(e,t){return t.replace(" *","")}),b=1;b<=15;b++)g+='<option value="'+b+'">'+b+"</option>";m.html(g),l.setDate(l.getDate()+6*m.val()),p.val(this.formatDate(l))}if("2"==t.val()){for(r.removeClass("bp-hide"),d.removeClass("bp-hide"),s.addClass("bp-hide"),c.text(bp_zoom_vars.strings.week),g="",o.text(function(e,t){return t+" *"}),b=1;b<=12;b++)g+='<option value="'+b+'">'+b+"</option>";m.html(g),l.setDate(l.getDate()+7*m.val()*6),p.val(this.formatDate(l))}if("3"==t.val()){for(r.removeClass("bp-hide"),d.addClass("bp-hide"),s.removeClass("bp-hide"),c.text(bp_zoom_vars.strings.month),g="",o.text(function(e,t){return t.replace(" *","")}),b=1;b<=3;b++)g+='<option value="'+b+'">'+b+"</option>";m.html(g),l.setMonth(l.getMonth()+6*m.val()),p.val(this.formatDate(l))}n.removeClass("bp-hide")}},toggleNotification:function(e){var t=u(e.target),o=t.closest(".bb-field-wrap").find("#bp-zoom-meeting-alert");e.preventDefault(),o.attr("disabled")&&t.prop("checked")?o.removeAttr("disabled"):o.attr("disabled","disabled")},loadCreateMeeting:function(e){e.preventDefault();e=u(e.currentTarget).data("group-id");u("#bp-zoom-single-meeting-wrapper").empty(),u("#meetings-list .meeting-item").removeClass("current"),u(this.bp_zoom_meeting_container_elem).length&&(u(this.bp_zoom_meeting_container_elem).addClass("bp-create-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-past-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-future-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-edit-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-single-meeting")),this.abort_zoom_ajax.bind(this),this.bp_zoom_ajax=u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_meeting_create_meeting",group_id:e},success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-single-meeting-wrapper").html(e.data.contents),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-date").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,yearStart:(new Date).getFullYear(),defaultDate:new Date,scrollMonth:!1,scrollTime:!1,scrollInput:!1,onSelectDate:function(e,t){u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-end-date-time").datetimepicker({minDate:t.val()})}}),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-end-date-time").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,defaultDate:(new Date).setDate((new Date).getDate()+6),scrollMonth:!1,scrollTime:!1,scrollInput:!1}),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-time").datetimepicker({format:"h:i",formatTime:"h:i",datepicker:!1,hours12:!0,step:30}),e={placeholder:"hh:mm",translation:{P:{pattern:/0|1/,optional:!1},Q:{pattern:/0|1|2/,optional:!1},X:{pattern:/0|[1-9]/,optional:!1},Y:{pattern:/[0-5]/,optional:!1},Z:{pattern:/[0-9]/,optional:!1}},onKeyPress:function(e,t,o,n){var i=["PX:YZ","PQ:YZ"],e=1<e.length&&0<e.substr(0,1)?i[1]:i[0];u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-time").mask(e,n)}},u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-time").mask("PX:YZ",e),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-timezone").select2({minimumInputLength:0,closeOnSelect:!0,language:this.select2_laguage_text,dropdownCssClass:"bb-select-dropdown",containerCssClass:"bb-select-container"}),u(".bp-zoom-meeting-left-inner .bp-zoom-meeting-members-listing #meetings-list").animate({scrollTop:50*u(document).height()}),u(".bp-zoom-meeting-left-inner .bp-zoom-meeting-members-listing #meetings-list").css("max-height",Number(u("#bp_zoom_meeting_form .bp-zoom-meeting-right-top").height())+"px"),""!==bp_zoom_vars.group_meetings_url)&&(e=bp_zoom_vars.group_meetings_url+"create-meeting",window.history.pushState(null,null,e))}})},openOccurrenceDeletePopup:function(e){var t=u(e.currentTarget).closest(".meeting-item-container").data("occurrence-id");e.preventDefault(),void 0!==t&&""!=t&&u.magnificPopup.open({items:{src:"#bp-zoom-delete-occurrence-popup-"+t,type:"inline"}})},openOccurrenceEditPopup:function(e){var t=u(e.currentTarget).closest(".meeting-item-container").data("occurrence-id");e.preventDefault(),void 0!==t&&""!=t&&u.magnificPopup.open({items:{src:"#bp-zoom-edit-occurrence-popup-"+t,type:"inline"}})},loadEditOccurrence:function(e){var t=u(e.currentTarget),o=t.data("id"),n=t.data("meeting-id"),t=t.data("occurrence-id");e.preventDefault(),u.magnificPopup.close(),this.ajaxEditMeetingLoader(o,n,t)},loadEditMeeting:function(e){var t=u(e.currentTarget),o=t.data("id"),t=t.data("meeting-id");e.preventDefault(),u.magnificPopup.close(),this.ajaxEditMeetingLoader(o,t,"")},ajaxEditMeetingLoader:function(e,t,o){u("#bp-zoom-single-meeting-wrapper").empty();e={action:"zoom_meeting_edit_meeting",id:e};void 0!==o&&""!==o&&(e.occurrence_id=o),void 0!==t&&""!==t&&(e.meeting_id=t),u(this.bp_zoom_meeting_container_elem).length&&u(this.bp_zoom_meeting_container_elem).addClass("bp-create-meeting").removeClass("bp-past-meeting").removeClass("bp-future-meeting").removeClass("bp-edit-meeting").removeClass("bp-single-meeting"),this.abort_zoom_ajax(),this.bp_zoom_ajax=u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:e,success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-single-meeting-wrapper").html(e.data.contents),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-date").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,yearStart:(new Date).getFullYear(),defaultDate:new Date,scrollMonth:!1,scrollTime:!1,scrollInput:!1,onSelectDate:function(e,t){u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-end-date-time").datetimepicker({minDate:t.val()})}}),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-end-date-time").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,defaultDate:(new Date).setDate((new Date).getDate()+6),scrollMonth:!1,scrollTime:!1,scrollInput:!1}),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-time").datetimepicker({format:"h:i",formatTime:"h:i",datepicker:!1,hours12:!0,step:30}),e={placeholder:"hh:mm",translation:{P:{pattern:/0|1/,optional:!1},Q:{pattern:/0|1|2/,optional:!1},X:{pattern:/0|[1-9]/,optional:!1},Y:{pattern:/[0-5]/,optional:!1},Z:{pattern:/[0-9]/,optional:!1}},onKeyPress:function(e,t,o,n){var i=["PX:YZ","PQ:YZ"],e=1<e.length&&0<e.substr(0,1)?i[1]:i[0];u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-time").mask(e,n)}},u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-start-time").mask("PX:YZ",e),u("#bp-zoom-single-meeting-wrapper").find("#bp-zoom-meeting-timezone").select2({minimumInputLength:0,closeOnSelect:!0,language:this.select2_laguage_text,dropdownCssClass:"bb-select-dropdown",containerCssClass:"bb-select-container"}),u(".bp-zoom-meeting-left-inner .bp-zoom-meeting-members-listing #meetings-list").css("max-height",Number(u("#bp_zoom_meeting_form .bp-zoom-meeting-right-top").height())+"px"))}})},backToMeetingList:function(e){e.preventDefault(),u(this.bp_zoom_meeting_container_elem).length&&(u(this.bp_zoom_meeting_container_elem).removeClass("bp-create-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-past-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-future-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-edit-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-single-meeting"))},loadSingleMeeting:function(e){var t=u(e.target),o=t.closest(".meeting-item"),n=o.data("action"),i=o.data("zoom-type"),a=o.data("id"),r=(e.preventDefault(),this);return"edit-cancel"===n&&"meeting"===i?(window.location.reload(),!1):(u(this.bp_zoom_meeting_container_elem).length&&(u(this.bp_zoom_meeting_container_elem).removeClass("bp-create-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-past-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-future-meeting"),u(this.bp_zoom_meeting_container_elem).removeClass("bp-edit-meeting"),u(this.bp_zoom_meeting_container_elem).addClass("bp-single-meeting"),u(".bp-navs.group-subnav").find("li.bp-groups-tab.current.selected").hasClass("meetings")?u(this.bp_zoom_meeting_container_elem).addClass("bp-future-meeting"):u(".bp-navs.group-subnav").find("li.bp-groups-tab.current.selected").hasClass("past-meetings")&&u(this.bp_zoom_meeting_container_elem).addClass("bp-past-meeting")),!(t.hasClass("view-recordings")||t.hasClass("dashicons")||o.hasClass("current"))&&(u("#meetings-list .meeting-item").removeClass("current"),u("#meetings-list .meeting-item[data-id="+a+"]").addClass("current"),u("#bp-zoom-single-meeting-wrapper").empty(),this.abort_zoom_ajax.bind(this),void(this.bp_zoom_ajax=u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_meeting_get_single_meeting",id:a},success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-single-meeting-wrapper").html(e.data.contents),""!==bp_zoom_vars.group_meetings_url)&&(e=bp_zoom_vars.group_meetings_url+"meetings/"+a,window.history.pushState(null,null,e)),u("#bp-zoom-single-meeting-wrapper").find("#copy-invitation-link").magnificPopup({type:"inline",midClick:!0}),u("#bp-zoom-single-meeting-wrapper").find(".show-recordings").magnificPopup({type:"inline",midClick:!0,callbacks:{open:function(){bp.Zoom.autoScrollToDateInRecordingPopup()}}}),r.mask_meeting_id(),r.triggerCountdowns(),u(".bp-zoom-meeting-left-inner .bp-zoom-meeting-members-listing #meetings-list").css("max-height",Number(u("#bp_zoom_meeting_form .bp-zoom-meeting-right-top").height())+"px")}}))))},scrollMeetings:function(e){var t;"meetings-list"===e.target.id&&(e=e.target).scrollTop+e.offsetHeight>=e.scrollHeight&&!e.classList.contains("loading")&&(t=u(e).find(".load-more")).length&&(e.classList.add("loading"),t.find("a").trigger("click"))},loadMoreMeetings:function(e){var t=u(e.currentTarget),o=(e.preventDefault(),this);if(t.hasClass("loading"))return!1;t.addClass("loading");e=!1;u("#bp-zoom-meeting-recorded-switch-checkbox").is(":checked")&&(e=!0),u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_meeting_load_more",page:this.getLinkParams(t.prop("href"),"acpage"),search_terms:u("#bp-zoom-meeting-container #bp_zoom_meeting_search").val(),recorded:e,past:u("#bp-zoom-meeting-container #bp-zoom-meeting-recorded-switch-checkbox").length},success:function(e){void 0!==e.data&&e.data.contents&&t.closest(".load-more").replaceWith(e.data.contents),t.removeClass("loading"),u("#meetings-list").removeClass("loading"),o.mask_meeting_id(),u(".bp-zoom-meeting-left-inner .bp-zoom-meeting-members-listing #meetings-list").css("max-height",Number(u("#bp_zoom_meeting_form").height())-140+"px")}})},updateMeeting:function(e){var n=u(e.currentTarget);if(e.preventDefault(),n.hasClass("loading")||n.hasClass("disabled"))return!1;var i=this,e=(n.addClass("loading"),n.parents(".bp-meeting-fields-wrap").find(".bp-feedback.error").remove(),n.closest("form").serialize());this.abort_zoom_ajax.bind(this),this.bp_zoom_ajax=u.ajax({type:"POST",url:bp_zoom_vars.ajax_url,data:e,success:function(e){var t="";if(e.success){if(void 0!==e.data){if(""!==e.data.redirect_url)return window.location.href=e.data.redirect_url,!1;window.location.reload()}}else{if(e.data.errors)for(var o in e.data.errors)t='<aside class="bp-feedback error"><span class="bp-icon" aria-hidden="true"></span><p>'+e.data.errors[o].message+"</p></aside>",n.parents(".bp-meeting-fields-wrap").prepend(t);else e.data.error&&(t='<aside class="bp-feedback error"><span class="bp-icon" aria-hidden="true"></span><p>'+e.data.error+"</p></aside>",n.parents(".bp-meeting-fields-wrap").prepend(t));n.removeClass("loading"),u("html, body").animate({scrollTop:u("#bp-zoom-single-meeting-wrapper").offset().top-100},500)}i.mask_meeting_id()}})},deleteOnlyThisMeeting:function(e){var t=u(e.target),o=t.data("id"),n=t.data("meeting-id"),i=t.data("occurrence-id");t.addClass("loading"),e.preventDefault(),this.ajaxDeleteMeeting(o,n,i)},deleteAllMeetingOccurrences:function(e){var t=u(e.target),o=t.data("id"),n=t.data("meeting-id");t.addClass("loading"),e.preventDefault(),t.addClass("loading"),this.ajaxDeleteMeeting(o,n)},ajaxDeleteMeeting:function(e,t,o){t={action:"zoom_meeting_delete",meeting_id:t,id:e,_wpnonce:bp_zoom_vars.meeting_delete_nonce};void 0!==o&&""!==o&&(t.occurrence_id=o),this.abort_zoom_ajax.bind(this),this.bp_zoom_ajax=u.ajax({type:"POST",url:bp_zoom_vars.ajax_url,data:t,success:function(e){if(!0===e.data.deleted&&"1"===bp_zoom_vars.is_single_meeting)return!0===e.data.is_past&&""!==bp_zoom_vars.group_meetings_past_url?window.location.href=bp_zoom_vars.group_meetings_past_url:""!==bp_zoom_vars.group_meetings_url&&(window.location.href=bp_zoom_vars.group_meetings_url),!1}})},deleteMeeting:function(e){var t=u(e.target).parents(".meeting-item-container"),o=t.data("meeting-id"),t=t.data("id");if(e.preventDefault(),!confirm(bp_zoom_vars.meeting_confirm_msg))return!1;this.ajaxDeleteMeeting(t,o)},togglePassword:function(e){var t=u(e.currentTarget),o=t.closest(".single-meeting-item");e.preventDefault(),(t.hasClass("show-pass")?(t.removeClass("on"),o.find(".toggle-password.hide-pass").addClass("on"),o.find(".hide-password").removeClass("on"),o.find(".show-password")):(t.removeClass("on"),o.find(".toggle-password.show-pass").addClass("on"),o.find(".show-password").removeClass("on"),o.find(".hide-password"))).addClass("on")},toggleRecordingPassword:function(e){var t=u(e.currentTarget),o=t.closest(".recording-list-row");e.preventDefault(),t.hasClass("show-pass")?(o.find(".toggle-password.show-pass").addClass("bp-hide"),o.find(".show-password").removeClass("bp-hide")):(o.find(".toggle-password.show-pass").removeClass("bp-hide"),o.find(".show-password").addClass("bp-hide"))},copyInvitationDetails:function(e){var t=u(e.currentTarget);if(e.preventDefault(),t.hasClass("copied"))return!1;var e=u("#meeting-invitation"),o=t.text();e.select();try{document.execCommand("copy")&&(t.addClass("copied"),t.html(t.data("copied")),setTimeout(function(){t.removeClass("copied"),t.html(o)},3e3))}catch(e){console.log("Oops, unable to copy")}},copyDownloadLink:function(e){var t=u(e.currentTarget),o=t.html();if(e.preventDefault(),t.hasClass("copied"))return!1;e=document.createElement("textarea");e.value=t.data("download-link"),(t.closest(".bp-zoom-block-show-recordings").length?t.closest(".bp-zoom-block-show-recordings")[0]:document.body).appendChild(e),e.select();try{document.execCommand("copy")&&(t.addClass("copied"),t.html(t.data("copied")),setTimeout(function(){t.removeClass("copied"),t.html(o)},3e3))}catch(e){console.log("Oops, unable to copy")}(t.closest(".bp-zoom-block-show-recordings").length?t.closest(".bp-zoom-block-show-recordings")[0]:document.body).removeChild(e)},getLinkParams:function(e,t){var e=e?-1!==e.indexOf("?")?"?"+e.split("?")[1]:"":document.location.search;return e?(e=e.replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0],t?e[t]:e):null},closeCreateMeetingModal:function(e){e.preventDefault(),u("#bp-meeting-create").hide()},openRecordingModal:function(e){var t=u(e.currentTarget);e.preventDefault(),t.closest(".recording-list-row").find(".bb-media-model-wrapper").show()},closeRecordingModal:function(e){e.preventDefault(),0<u(".bb-media-model-wrapper").find("video").length&&u(".bb-media-model-wrapper").find("video").get(0).pause(),0<u(".bb-media-model-wrapper").find("audio").length&&u(".bb-media-model-wrapper").find("audio").get(0).pause(),u(".bb-media-model-wrapper").hide()},checkPressedKey:function(e){27===(e=e||window.event).keyCode&&this.closeRecordingModal(e)},openMeetingActions:function(e){var t=u(e.currentTarget);e.preventDefault(),t.next(".meeting-actions-list").toggleClass("open")},searchMeetingActions:function(e){var t=u(e.currentTarget).attr("id"),o=this,t=("bp-zoom-meeting-recorded-switch-checkbox"!==t&&e.preventDefault(),!1),e=(u("#bp-zoom-meeting-recorded-switch-checkbox").is(":checked")&&(t=!0),u("#bp-zoom-meeting-container #bp-zoom-dropdown-options-loader").show(),{action:"zoom_meeting_search",recorded:t,page:1,search_terms:u("#bp-zoom-meeting-container #bp_zoom_meeting_search").val(),past:u("#bp-zoom-meeting-container #bp-zoom-meeting-recorded-switch-checkbox").length});u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,async:!0,data:e,success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-meeting-container .bp-zoom-meeting-left-inner #meetings-list").html(e.data.contents),0!=(e=u("#bp-zoom-single-meeting-wrapper").find(".meeting-item-container").data("id"))&&null!=e&&void 0!==e||u("#bp_zoom_meeting_form").length&&u("#bp_zoom_meeting_form").find("#bp-zoom-meeting-id").length&&(e=u("#bp_zoom_meeting_form").find("#bp-zoom-meeting-id").val()),e)&&u("#meetings-list").find('.meeting-item[data-id="'+e+'"]').addClass("current"),u("#bp-zoom-meeting-container #bp-zoom-dropdown-options-loader").hide(),o.mask_meeting_id()}})},changeTimezone:function(e){var e=u(e.target),e=new Date((new Date).toLocaleDateString("en-US",{timeZone:e.val()})),t={minDate:this.formatDate(e)};new Date(jQuery("#bp-zoom-meeting-start-date").val())<e&&(t.value=this.formatDate(e)),jQuery("#bp-zoom-meeting-start-date").datetimepicker(t)},abort_zoom_ajax:function(){!1!==this.bp_zoom_ajax&&(this.bp_zoom_ajax.abort(),this.bp_zoom_ajax=!1)},mask_meeting_id:function(){void 0!==jQuery.fn.mask&&(u("#meetings-list").find(".meeting-id").mask("AA: 000 0000 0000"),u("#bp-zoom-single-meeting").find(".meeting-id").mask("000 0000 0000"),u(".zoom-meeting-id").mask("000 0000 0000"),u(document).find(".bb-meeting-id").mask("AA: 000 0000 0000"))},syncGroupMeetings:function(e){var t=u(e.currentTarget),o=t.data("group-id");e.preventDefault(),t.addClass("loading"),this.bp_zoom_sync_function(0,o)},bp_zoom_sync_function:function(e,t){var o=this;u.ajax({type:"POST",url:bp_zoom_vars.ajax_url,data:{action:"zoom_meetings_sync",group_id:t,offset:e},success:function(e){if(void 0!==e.success)return!e.success||void 0===e.data||"running"!==e.data.status?(u("#meetings-sync").removeClass("loading"),e.data.redirect_url?window.location.href=e.data.redirect_url:window.location.reload(),!1):void o.bp_zoom_sync_function(e.data.offset,t)},error:function(){return u("#meetings-sync").removeClass("loading"),!1}})},joinMeetingInBrowser:function(e){var n=u(e.currentTarget),i=0,a=u('style, link[rel="stylesheet"]'),t=0;if(e.preventDefault(),void 0===bp_zoom_vars.scripts&&0===bp_zoom_vars.scripts.length||!bp_zoom_vars.is_zoom_sdk)return!1;var r=document.createElement("div");for(t in r.style="position:absolute;z-index:9999;top: 0;background-color: black;width: 99999999px;height: 999999999999px;",document.body.appendChild(r),bp_zoom_vars.styles)u("<link/>",{rel:"stylesheet",type:"text/css",href:bp_zoom_vars.styles[t]}).appendTo("head");for(t in bp_zoom_vars.scripts){var o=document.createElement("script");o.type="text/javascript",o.src=bp_zoom_vars.scripts[t],o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,i++)}:o.onload=function(){i++},document.head.appendChild(o)}var s=setInterval(function(){var e,t,o;i>=bp_zoom_vars.scripts.length&&"undefined"!=typeof ZoomMtg?(clearInterval(s),document.body.removeChild(r),a.remove(),"ja"===bp_zoom_vars.lang?bp_zoom_vars.lang="jp-JP":"ko-KR"===bp_zoom_vars.lang?bp_zoom_vars.lang="ko-KO":"vi"===bp_zoom_vars.lang&&(bp_zoom_vars.lang="vi-VN"),void 0!==bp_zoom_vars.lang&&-1!==u.inArray(bp_zoom_vars.lang,bp.Zoom.zoom_languages)&&ZoomMtg.i18n.load(bp_zoom_vars.lang),ZoomMtg.preLoadWasm(),ZoomMtg.prepareJssdk(),u(".zoom-theatre").show(),u("#zmmtg-root").addClass("active"),e={meetingNumber:n.data("meeting-id"),userName:bp_zoom_vars.user.name,passWord:n.data("meeting-pwd"),leaveUrl:bp_zoom_vars.home_url,role:"1"==n.data("is-host")?1:0},t=n.data("meeting-sign"),o=n.data("meeting-sdk"),ZoomMtg.init({leaveUrl:e.leaveUrl,isSupportAV:!0,success:function(){ZoomMtg.join({sdkKey:o,signature:t,meetingNumber:e.meetingNumber,passWord:e.passWord,userName:e.userName,success:function(e){console.log(e),console.log("join meeting success")},error:function(e){console.log(e)}})},error:function(e){console.log(e)}})):console.log("ZoomMtg is not defined yet and scripts not loaded!")},500);setTimeout(function(){clearInterval(s)},2e4)},settingTab:function(e){e.preventDefault();e=u(e.target);e.hasClass("active-tab")||(e.closest(".bb-zoom-setting-tabs").find(".active-tab").removeClass("active-tab").removeAttr("aria-selected"),e.addClass("active-tab").attr("aria-selected","true"),e.closest(".bb-zoom-setting-tab").find(".bb-zoom-setting-content-tab").removeClass("active-tab"),u(e.attr("href")).addClass("active-tab"))},copyText:function(e){var t,o=u(e.currentTarget);o.hasClass("copied")||(o.addClass("copied"),t=o.attr("data-balloon"),o.attr("data-balloon",o.attr("data-copied-text")+"!"),o.closest(".copy-toggle").find("input").trigger("select"),document.execCommand("copy"),o.closest(".copy-toggle").find("input").blur(),setTimeout(function(){o.attr("data-balloon",t),o.removeClass("copied")},1e3))},switchZoomType:function(e){var t=jQuery(e.currentTarget).closest(".bb-toggle-switch"),o=t.data("meeting-tooltip"),n=t.data("webinar-tooltip");jQuery(e.currentTarget).is(":checked")?t.attr("data-bp-tooltip",n):t.attr("data-bp-tooltip",o)},scrollWebinars:function(e){var t;"webinars-list"===e.target.id&&(e=e.target).scrollTop+e.offsetHeight>=e.scrollHeight&&!e.classList.contains("loading")&&(t=u(e).find(".load-more")).length&&(e.classList.add("loading"),t.find("a").trigger("click"))},loadMoreWebinars:function(e){var t=u(e.currentTarget),o=(e.preventDefault(),this);if(t.hasClass("loading"))return!1;t.addClass("loading");e=!1;u("#bp-zoom-webinar-recorded-switch-checkbox").is(":checked")&&(e=!0),u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_webinar_load_more",page:this.getLinkParams(t.prop("href"),"acpage"),search_terms:u("#bp-zoom-webinar-container #bp_zoom_webinar_search").val(),recorded:e,past:u("#bp-zoom-webinar-container #bp-zoom-webinar-recorded-switch-checkbox").length},success:function(e){void 0!==e.data&&e.data.contents&&t.closest(".load-more").replaceWith(e.data.contents),t.removeClass("loading"),u("#webinars-list").removeClass("loading"),o.mask_webinar_id()}})},backToWebinarsList:function(e){e.preventDefault(),u(this.bp_zoom_webinar_container_elem).length&&(u(this.bp_zoom_webinar_container_elem).removeClass("bp-create-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-past-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-future-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-edit-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-single-webinar"))},loadCreateWebinar:function(e){e.preventDefault();e=u(e.currentTarget).data("group-id");u("#bp-zoom-single-webinar-wrapper").empty(),u("#webinars-list .webinar-item").removeClass("current"),u(this.bp_zoom_webinar_container_elem).length&&(u(this.bp_zoom_webinar_container_elem).addClass("bp-create-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-past-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-future-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-edit-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-single-webinar")),this.abort_zoom_ajax.bind(this),this.bp_zoom_ajax=u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_webinar_create_webinar",group_id:e},success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-single-webinar-wrapper").html(e.data.contents),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-date").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,yearStart:(new Date).getFullYear(),defaultDate:new Date,scrollMonth:!1,scrollTime:!1,scrollInput:!1,onSelectDate:function(e,t){u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-end-date-time").datetimepicker({minDate:t.val()})}}),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-end-date-time").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,defaultDate:(new Date).setDate((new Date).getDate()+6),scrollMonth:!1,scrollTime:!1,scrollInput:!1}),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-time").datetimepicker({format:"h:i",formatTime:"h:i",datepicker:!1,hours12:!0,step:30}),e={placeholder:"hh:mm",translation:{P:{pattern:/0|1/,optional:!1},Q:{pattern:/0|1|2/,optional:!1},X:{pattern:/0|[1-9]/,optional:!1},Y:{pattern:/[0-5]/,optional:!1},Z:{pattern:/[0-9]/,optional:!1}},onKeyPress:function(e,t,o,n){var i=["PX:YZ","PQ:YZ"],e=1<e.length&&0<e.substr(0,1)?i[1]:i[0];u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-time").mask(e,n)}},u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-time").mask("PX:YZ",e),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-timezone").select2({minimumInputLength:0,closeOnSelect:!0,language:this.select2_laguage_text,dropdownCssClass:"bb-select-dropdown",containerCssClass:"bb-select-container"}),u(".bp-zoom-webinar-left-inner .bp-zoom-webinar-members-listing #webinars-list").css("max-height",Number(u("#bp_zoom_webinar_form .bp-zoom-webinar-right-top").height())+"px"),""!==bp_zoom_vars.group_webinars_url)&&(e=bp_zoom_vars.group_webinars_url+"create-webinar",window.history.pushState(null,null,e))}})},loadSingleWebinar:function(e){var t=u(e.target),o=t.closest(".webinar-item"),n=o.data("action"),i=o.data("zoom-type"),a=o.data("id"),r=(e.preventDefault(),this);return"edit-cancel"===n&&"webinar"===i?(window.location.reload(),!1):(u(this.bp_zoom_webinar_container_elem).length&&(u(this.bp_zoom_webinar_container_elem).removeClass("bp-create-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-past-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-future-webinar"),u(this.bp_zoom_webinar_container_elem).removeClass("bp-edit-webinar"),u(this.bp_zoom_webinar_container_elem).addClass("bp-single-webinar"),u(".bp-navs.group-subnav").find("li.bp-groups-tab.current.selected").hasClass("webinars")?u(this.bp_zoom_webinar_container_elem).addClass("bp-future-webinar"):u(".bp-navs.group-subnav").find("li.bp-groups-tab.current.selected").hasClass("past-webinar")&&u(this.bp_zoom_webinar_container_elem).addClass("bp-past-webinar")),!(t.hasClass("view-recordings")||t.hasClass("dashicons")||o.hasClass("current"))&&(u("#webinars-list .webinar-item").removeClass("current"),u("#webinars-list .webinar-item[data-id="+a+"]").addClass("current"),u("#bp-zoom-single-webinar-wrapper").empty(),this.abort_zoom_ajax.bind(this),void(this.bp_zoom_ajax=u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:{action:"zoom_webinar_get_single_webinar",id:a},success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-single-webinar-wrapper").html(e.data.contents),""!==bp_zoom_vars.group_webinars_url)&&(e=bp_zoom_vars.group_webinars_url+"webinars/"+a,window.history.pushState(null,null,e)),r.mask_webinar_id(),r.triggerCountdowns()}}))))},openWebinarOccurrenceDeletePopup:function(e){var t=u(e.currentTarget).closest(".webinar-item-container").data("occurrence-id");e.preventDefault(),void 0!==t&&""!=t&&u.magnificPopup.open({items:{src:"#bp-zoom-delete-occurrence-popup-"+t,type:"inline"}})},openWebinarOccurrenceEditPopup:function(e){var t=u(e.currentTarget).closest(".webinar-item-container").data("occurrence-id");e.preventDefault(),void 0!==t&&""!=t&&u.magnificPopup.open({items:{src:"#bp-zoom-edit-occurrence-popup-"+t,type:"inline"}})},loadEditWebinarOccurrence:function(e){var t=u(e.currentTarget),o=t.data("id"),n=t.data("webinar-id"),t=t.data("occurrence-id");e.preventDefault(),u.magnificPopup.close(),this.ajaxEditWebinarLoader(o,n,t)},loadEditWebinar:function(e){var t=u(e.currentTarget),o=t.data("id"),t=t.data("webinar-id");e.preventDefault(),u.magnificPopup.close(),this.ajaxEditWebinarLoader(o,t,"")},ajaxEditWebinarLoader:function(e,t,o){u("#bp-zoom-single-webinar-wrapper").empty();e={action:"zoom_webinar_edit_webinar",id:e};void 0!==o&&""!==o&&(e.occurrence_id=o),void 0!==t&&""!==t&&(e.webinar_id=t),u(this.bp_zoom_webinar_container_elem).length&&u(this.bp_zoom_webinar_container_elem).addClass("bp-create-webinar").removeClass("bp-past-webinar").removeClass("bp-future-webinar").removeClass("bp-edit-webinar").removeClass("bp-single-webinar"),this.abort_zoom_ajax(),this.bp_zoom_ajax=u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,data:e,success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-single-webinar-wrapper").html(e.data.contents),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-date").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,yearStart:(new Date).getFullYear(),defaultDate:new Date,scrollMonth:!1,scrollTime:!1,scrollInput:!1,onSelectDate:function(e,t){u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-end-date-time").datetimepicker({minDate:t.val()})}}),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-end-date-time").datetimepicker({format:"Y-m-d",timepicker:!1,mask:!0,minDate:0,defaultDate:(new Date).setDate((new Date).getDate()+6),scrollMonth:!1,scrollTime:!1,scrollInput:!1}),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-time").datetimepicker({format:"h:i",formatTime:"h:i",datepicker:!1,hours12:!0,step:30}),e={placeholder:"hh:mm",translation:{P:{pattern:/0|1/,optional:!1},Q:{pattern:/0|1|2/,optional:!1},X:{pattern:/0|[1-9]/,optional:!1},Y:{pattern:/[0-5]/,optional:!1},Z:{pattern:/[0-9]/,optional:!1}},onKeyPress:function(e,t,o,n){var i=["PX:YZ","PQ:YZ"],e=1<e.length&&0<e.substr(0,1)?i[1]:i[0];u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-time").mask(e,n)}},u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-start-time").mask("PX:YZ",e),u("#bp-zoom-single-webinar-wrapper").find("#bp-zoom-webinar-timezone").select2({minimumInputLength:0,closeOnSelect:!0,language:this.select2_laguage_text,dropdownCssClass:"bb-select-dropdown",containerCssClass:"bb-select-container"}),u(".bp-zoom-webinar-left-inner .bp-zoom-webinar-members-listing #webinars-list").css("max-height",Number(u("#bp_zoom_webinar_form .bp-zoom-webinar-right-top").height())+"px"))}})},updateWebinar:function(e){var n=u(e.currentTarget);if(e.preventDefault(),n.hasClass("loading")||n.hasClass("disabled"))return!1;var i=this,e=(n.addClass("loading"),n.parents(".bp-webinar-fields-wrap").find(".bp-feedback.error").remove(),n.closest("form").serialize());this.abort_zoom_ajax.bind(this),this.bp_zoom_ajax=u.ajax({type:"POST",url:bp_zoom_vars.ajax_url,data:e,success:function(e){var t="";if(e.success){if(void 0!==e.data){if(""!==e.data.redirect_url)return window.location.href=e.data.redirect_url,!1;window.location.reload()}}else{if(e.data.errors)for(var o in e.data.errors)t='<aside class="bp-feedback error"><span class="bp-icon" aria-hidden="true"></span><p>'+e.data.errors[o].message+"</p></aside>",n.parents(".bp-webinar-fields-wrap").prepend(t);else e.data.error&&(t='<aside class="bp-feedback error"><span class="bp-icon" aria-hidden="true"></span><p>'+e.data.error+"</p></aside>",n.parents(".bp-webinar-fields-wrap").prepend(t));n.removeClass("loading"),u("html, body").animate({scrollTop:u("#bp-zoom-single-webinar-wrapper").offset().top-100},500)}i.mask_webinar_id()}})},deleteOnlyThisWebinar:function(e){var t=u(e.target),o=t.data("id"),n=t.data("webinar-id"),i=t.data("occurrence-id");t.addClass("loading"),e.preventDefault(),this.ajaxDeleteWebinar(o,n,i)},deleteAllWebinarOccurrences:function(e){var t=u(e.target),o=t.data("id"),n=t.data("webinar-id");t.addClass("loading"),e.preventDefault(),this.ajaxDeleteWebinar(o,n)},ajaxDeleteWebinar:function(e,t,o){t={action:"zoom_webinar_delete",webinar_id:t,id:e,_wpnonce:bp_zoom_vars.webinar_delete_nonce};void 0!==o&&""!==o&&(t.occurrence_id=o),this.abort_zoom_ajax.bind(this),this.bp_zoom_ajax=u.ajax({type:"POST",url:bp_zoom_vars.ajax_url,data:t,success:function(e){if(!0===e.data.deleted&&"1"===bp_zoom_vars.is_single_webinar)return!0===e.data.is_past&&""!==bp_zoom_vars.group_webinars_past_url?window.location.href=bp_zoom_vars.group_webinars_past_url:""!==bp_zoom_vars.group_webinars_url&&(window.location.href=bp_zoom_vars.group_webinars_url),!1}})},deleteWebinar:function(e){var t=u(e.target).parents(".webinar-item-container"),o=t.data("webinar-id"),t=t.data("id");if(e.preventDefault(),!confirm(bp_zoom_vars.webinar_confirm_msg))return!1;this.ajaxDeleteWebinar(t,o)},openWebinarActions:function(e){var t=u(e.currentTarget);e.preventDefault(),t.next(".webinar-actions-list").toggleClass("open")},searchWebinarActions:function(e){var t=u(e.currentTarget).attr("id"),o=this,t=("bp-zoom-webinar-recorded-switch-checkbox"!==t&&e.preventDefault(),!1),e=(u("#bp-zoom-webinar-recorded-switch-checkbox").is(":checked")&&(t=!0),u("#bp-zoom-webinar-container #bp-zoom-dropdown-options-loader").show(),{action:"zoom_webinar_search",recorded:t,page:1,search_terms:u("#bp-zoom-webinar-container #bp_zoom_webinar_search").val(),past:u("#bp-zoom-webinar-container #bp-zoom-webinar-recorded-switch-checkbox").length});u.ajax({type:"GET",url:bp_zoom_vars.ajax_url,async:!0,data:e,success:function(e){void 0!==e.data&&e.data.contents&&(u("#bp-zoom-webinar-container .bp-zoom-webinar-left-inner #webinars-list").html(e.data.contents),0!=(e=u("#bp-zoom-single-webinar-wrapper").find(".webinar-item-container").data("id"))&&null!=e&&void 0!==e||u("#bp_zoom_webinar_form").length&&u("#bp_zoom_webinar_form").find("#bp-zoom-webinar-id").length&&(e=u("#bp_zoom_webinar_form").find("#bp-zoom-webinar-id").val()),e)&&u("#webinars-list").find('.webinar-item[data-id="'+e+'"]').addClass("current"),u("#bp-zoom-webinar-container #bp-zoom-dropdown-options-loader").hide(),o.mask_webinar_id()}})},joinWebinarInBrowser:function(e){var n=u(e.currentTarget),i=0,a=u('style, link[rel="stylesheet"]'),t=0;if(e.preventDefault(),void 0===bp_zoom_vars.scripts&&0===bp_zoom_vars.scripts.length||!bp_zoom_vars.is_zoom_sdk)return!1;var r=document.createElement("div");for(t in r.style="position:absolute;z-index:9999;top: 0;background-color: black;width: 99999999px;height: 999999999999px;",document.body.appendChild(r),bp_zoom_vars.styles)u("<link/>",{rel:"stylesheet",type:"text/css",href:bp_zoom_vars.styles[t]}).appendTo("head");for(t in bp_zoom_vars.scripts){var o=document.createElement("script");o.type="text/javascript",o.src=bp_zoom_vars.scripts[t],o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,i++)}:o.onload=function(){i++},document.head.appendChild(o)}var s=setInterval(function(){var e,t,o;i>=bp_zoom_vars.scripts.length&&"undefined"!=typeof ZoomMtg?(clearInterval(s),document.body.removeChild(r),a.remove(),"ja"===bp_zoom_vars.lang?bp_zoom_vars.lang="jp-JP":"ko-KR"===bp_zoom_vars.lang?bp_zoom_vars.lang="ko-KO":"vi"===bp_zoom_vars.lang&&(bp_zoom_vars.lang="vi-VN"),void 0!==bp_zoom_vars.lang&&-1!==u.inArray(bp_zoom_vars.lang,bp.Zoom.zoom_languages)&&ZoomMtg.i18n.load(bp_zoom_vars.lang),ZoomMtg.preLoadWasm(),ZoomMtg.prepareJssdk(),u(".zoom-theatre").show(),u("#zmmtg-root").addClass("active"),e={meetingNumber:n.data("webinar-id"),userName:bp_zoom_vars.user.name,passWord:n.data("webinar-pwd"),userEmail:bp_zoom_vars.user.email,leaveUrl:bp_zoom_vars.home_url,role:0},t=n.data("meeting-sign"),o=n.data("meeting-sdk"),ZoomMtg.init({leaveUrl:e.leaveUrl,isSupportAV:!0,success:function(){ZoomMtg.join({meetingNumber:e.meetingNumber,userName:e.userName,signature:t,sdkKey:o,passWord:e.passWord,userEmail:bp_zoom_vars.user.email,success:function(e){console.log(e),console.log("join webinar success")},error:function(e){console.log(e)}})},error:function(e){console.log(e)}})):console.log("ZoomMtg is not defined yet and scripts not loaded!")},500);setTimeout(function(){clearInterval(s)},2e4)},toggleWebinarPassword:function(e){var t=u(e.currentTarget),o=t.closest(".single-webinar-item");e.preventDefault(),(t.hasClass("show-pass")?(t.removeClass("on"),o.find(".toggle-password.hide-pass").addClass("on"),o.find(".hide-password").removeClass("on"),o.find(".show-password")):(t.removeClass("on"),o.find(".toggle-password.show-pass").addClass("on"),o.find(".show-password").removeClass("on"),o.find(".hide-password"))).addClass("on")},toggleWebinarAutoRecording:function(e){var e=u(e.target),t=e.closest("form").find(".bp-zoom-webinar-auto-recording-options");e.is(":checked")?t.removeClass("bp-hide"):t.addClass("bp-hide")},toggleWebinarRecurring:function(e){var e=u(e.target),t=e.closest("form").find(".bp-zoom-webinar-recurring-options"),o=e.closest("form").find(".bp-zoom-webinar-registration-options");e.is(":checked")?(t.removeClass("bp-hide"),e.closest("form").find("#bp-zoom-webinar-registration").is(":checked")&&e.closest("form").find("#bp-zoom-webinar-recurring").is(":checked")&&["1","2","3"].includes(e.closest("form").find("#bp-zoom-webinar-recurrence").val())&&o.removeClass("bp-hide")):(t.addClass("bp-hide"),o.addClass("bp-hide"))},toggleWebinarDates:function(e){var t=u(e.target).closest("form"),o=t.find("#bp-zoom-webinar-recurrence"),n=t.find("#bp-zoom-webinar-repeat-interval"),i=t.find("#bp-zoom-webinar-start-date"),t=t.find("#bp-zoom-webinar-end-date-time"),i=new Date(i.val()),a=new Date(t.val());e.preventDefault(),i.getTime()>=a.getTime()&&("1"==o.val()&&(i.setDate(i.getDate()+6*n.val()),t.val(this.formatDate(i))),"2"==o.val()&&(i.setDate(i.getDate()+7*n.val()*6),t.val(this.formatDate(i))),"3"==o.val())&&(i.setMonth(i.getMonth()+6*n.val()),t.val(this.formatDate(i)))},toggleWebinarNotification:function(e){var t=u(e.target),o=t.closest(".bb-field-wrap").find("#bp-zoom-webinar-alert");e.preventDefault(),o.attr("disabled")&&t.prop("checked")?o.removeAttr("disabled"):o.attr("disabled","disabled")},toggleWebinarRegistration:function(e){var e=u(e.target),t=e.closest("form#bp_zoom_webinar_form"),o=t.find(".bp-zoom-webinar-registration-options");e.is(":checked")&&t.find("#bp-zoom-webinar-recurring").is(":checked")&&["1","2","3"].includes(t.find("#bp-zoom-webinar-recurrence").val())?o.removeClass("bp-hide"):o.addClass("bp-hide")},toggleWebinarRepeatInterval:function(e){var t=u(e.target),o=t.closest("form").find("#bp-zoom-webinar-recurrence"),n=t.closest("form").find("#bp-zoom-webinar-start-date"),i=t.closest("form").find("#bp-zoom-webinar-end-date-time"),n=new Date(n.val()),a=new Date;e.preventDefault(),"1"==o.val()&&(a.setDate(n.getDate()+6*t.val()),i.val(this.formatDate(a))),"2"==o.val()&&(a.setDate(n.getDate()+7*t.val()*6),i.val(this.formatDate(a))),"3"==o.val()&&(a.setMonth(n.getMonth()+6*t.val()),i.val(this.formatDate(a)))},toggleWebinarRecurrence:function(e){var t=u(e.target),o=t.closest("form"),n=o.find(".bp-zoom-webinar-recurring-sub-options"),i=o.find(".bp-zoom-webinar-registration-options"),a=o.find(".bp-zoom-webinar-registration-wrapper"),r=o.find(".bp-zoom-webinar-occurs-on"),s=o.find("#bp-zoom-webinar-occurs-on-month"),d=o.find("#bp-zoom-webinar-occurs-on-week"),c=o.find("#bp-zoom-webinar-repeat-interval-type"),m=o.find("#bp-zoom-webinar-repeat-interval"),l=o.find("#bp-zoom-webinar-start-date"),p=o.find("#bp-zoom-webinar-end-date-time"),b=1,g="",l=new Date(l.val()),o=o.find(".bp-zoom-webinar-occurs-on > label");if(e.preventDefault(),"-1"==t.val())n.addClass("bp-hide"),i.addClass("bp-hide"),a.addClass("bp-hide");else{if(t.closest("form").find("#bp-zoom-webinar-registration").is(":checked")&&t.closest("form").find("#bp-zoom-webinar-recurring").is(":checked")&&i.removeClass("bp-hide"),a.removeClass("bp-hide"),"1"==t.val()){for(r.addClass("bp-hide"),c.text(bp_zoom_vars.strings.day),g="",o.text(function(e,t){return t.replace(" *","")}),b=1;b<=15;b++)g+='<option value="'+b+'">'+b+"</option>";m.html(g),l.setDate(l.getDate()+6*m.val()),p.val(this.formatDate(l))}if("2"==t.val()){for(r.removeClass("bp-hide"),d.removeClass("bp-hide"),s.addClass("bp-hide"),c.text(bp_zoom_vars.strings.week),g="",o.text(function(e,t){return t+" *"}),b=1;b<=12;b++)g+='<option value="'+b+'">'+b+"</option>";m.html(g),l.setDate(l.getDate()+7*m.val()*6),p.val(this.formatDate(l))}if("3"==t.val()){for(r.removeClass("bp-hide"),d.addClass("bp-hide"),s.removeClass("bp-hide"),c.text(bp_zoom_vars.strings.month),g="",o.text(function(e,t){return t.replace(" *","")}),b=1;b<=3;b++)g+='<option value="'+b+'">'+b+"</option>";m.html(g),l.setMonth(l.getMonth()+6*m.val()),p.val(this.formatDate(l))}n.removeClass("bp-hide")}},changeWebinarTimezone:function(e){var e=u(e.target),e=new Date((new Date).toLocaleDateString("en-US",{timeZone:e.val()})),t={minDate:this.formatDate(e)};new Date(jQuery("#bp-zoom-webinar-start-date").val())<e&&(t.value=this.formatDate(e)),jQuery("#bp-zoom-webinar-start-date").datetimepicker(t)},mask_webinar_id:function(){void 0!==jQuery.fn.mask&&(u("#webinars-list").find(".webinar-id").mask("AA: 000 0000 0000"),u("#bp-zoom-single-webinar").find(".webinar-id").mask("000 0000 0000"),u(".zoom-webinar-id").mask("000 0000 0000"),u(document).find(".bb-webinar-id").mask("AA: 000 0000 0000"))},syncGroupWebinars:function(e){var t=u(e.currentTarget),o=t.data("group-id");e.preventDefault(),t.addClass("loading"),this.bp_zoom_webinars_sync_function(0,o)},bp_zoom_webinars_sync_function:function(e,t){var o=this;u.ajax({type:"POST",url:bp_zoom_vars.ajax_url,data:{action:"zoom_webinars_sync",group_id:t,offset:e},success:function(e){if(void 0!==e.success)return!e.success||void 0===e.data||"running"!==e.data.status?(u("#webinars-sync").removeClass("loading"),e.data.redirect_url?window.location.href=e.data.redirect_url:window.location.reload(),!1):void o.bp_zoom_webinars_sync_function(e.data.offset,t)},error:function(){return u("#webinars-sync").removeClass("loading"),!1}})},togglePasswordTooltip:function(e){var e=u(e.currentTarget),t=e.attr("data-balloon");void 0!==t&&(e.hasClass("bb-show-pass"),e.attr("data-balloon",e.attr("data-balloon-toggle")),e.attr("data-balloon-toggle",t))}},bp.Zoom.start()}((bp,jQuery));