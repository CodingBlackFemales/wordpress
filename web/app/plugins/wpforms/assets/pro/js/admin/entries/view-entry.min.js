"use strict";var WPFormsViewEntry=window.WPFormsViewEntry||function(t,n){var i={init:function(){n(i.ready)},ready:function(){i.loadAllRichTextFields(),i.bindSettingsToggle(),i.addAlternateStyles(),i.hideDropdown()},saveData:function(){const t=[];n(".wpforms-entries-settings-menu-items input[type=checkbox]:checked").each(function(){t.push(n(this).attr("name"))});var e={action:"wpforms_update_single_entry_filter_settings",nonce:wpforms_admin.nonce,wpforms_entry_view_settings:t};n.post(wpforms_admin.ajax_url,e)},updateSettings:{$container:n("#wpforms-entry-fields"),$layoutWrapper:n(".wpforms-entries-fields-wrapper"),showFieldDescriptions:function(t){i.updateSettings.$container.find(".wpforms-entry-field-description").toggleClass("wpforms-hide",!t)},showEmptyFields:function(t){i.updateSettings.$container.find(".empty").toggleClass("wpforms-hide",!t)},showSectionDividers:function(t){t=t?"flex":"none";i.updateSettings.$container.find(".wpforms-field-entry-divider").css("display",t)},showPageBreaks:function(t){t=t?"flex":"none";i.updateSettings.$container.find(".wpforms-field-entry-pagebreak").css("display",t)},showUnselectedChoices:function(t){i.updateSettings.$container.find(".wpforms-field-entry-toggle").find(".wpforms-entry-field-value-is-choice").toggleClass("wpforms-hide",!t),i.updateSettings.$container.find(".wpforms-field-entry-toggle").find(".wpforms-entry-field-value").toggleClass("wpforms-hide",t)},showHtmlFields:function(t){i.updateSettings.$container.find(".wpforms-field-entry-html").toggle(t),i.updateSettings.$container.find(".wpforms-field-entry-content").toggle(t)},maintainLayouts:function(t){i.updateSettings.$layoutWrapper.toggleClass("wpforms-entry-maintain-layout",t),i.updateSettings.$layoutWrapper.removeClass("wpforms-entry-compact-layout"),n("#wpforms-entry-setting-compact_view").prop("checked",!1)},compactView:function(t){i.updateSettings.$layoutWrapper.toggleClass("wpforms-entry-compact-layout",t),i.updateSettings.$layoutWrapper.removeClass("wpforms-entry-maintain-layout"),n("#wpforms-entry-setting-maintain_layouts").prop("checked",!1)}},loadAllRichTextFields:function(){n(".wpforms-entry-field-value-richtext").each(function(){var t=this,e=n(this);e.on("load",function(){i.loadRichTextField(t)}),e.attr("src",e.data("src"))})},loadRichTextField(t){var e=n(t.contentWindow.document.documentElement);e.find("body").css("font-family",n("body").css("font-family")),e.find("ul, ol").css("padding-inline-start","30px"),e.find("li").css("list-style-position","outside"),i.resizeRichTextField(t),i.addLinksAttr(t)},resizeRichTextField:function(t){var e,n;t&&t.contentWindow&&(e=t.contentWindow.document.documentElement||!1)&&(n=e.scrollHeight,n+=e.scrollWidth>e.clientWidth?20:0,t.style.height=n+"px")},addLinksAttr:function(t){n(t).contents().find("a").each(function(){var t=n(this);t.attr("rel","noopener"),t.attr("target")||t.attr("target","_top")})},bindSettingsToggle:function(){n("#wpforms-entries-settings-button").on("click",function(t){t.preventDefault(),t.stopPropagation(),n(".wpforms-entries-settings-menu").toggle(0,function(){var t=n(this);t.attr("aria-expanded",t.is(":visible"))})}),n(".wpforms-entries-settings-menu-items input").on("change",i.toggleMode)},hideDropdown:function(){n(t).on("click",function(t){var e=n(".wpforms-entries-settings-menu");n(t.target).closest(".wpforms-entries-settings-menu:visible").length||e.attr("aria-expanded","false").hide()})},toggleMode:function(){var t=n(this),e=t.is(":checked"),t=t.attr("name").replace(/([-_][a-z])/g,t=>t.toUpperCase()).replaceAll("_","");i.updateSettings[t](e),i.saveData()},addAlternateStyles:function(){n(".wpforms-field-entry-fields").each(function(t){t%2!=0&&n(this).addClass("wpforms-entry-field-row-alt")})}};return i}(document,(window,jQuery));WPFormsViewEntry.init();