"use strict";const WPFormsPrintEntryPage=window.WPFormsPrintEntryPage||function(e,t,n){const i={vars:{},cache:{getCookie:function(){return JSON.parse(wpCookies.get("wpforms_entry_print"))||{}},saveCookie:function(e,t){var o=i.cache.getCookie();o[e]=t,wpCookies.set("wpforms_entry_print",JSON.stringify(o))}},init:function(){n(t).on("load",function(){"function"==typeof n.ready.then?n.ready.then(i.load):i.load()})},load:function(){i.vars={$body:n("body"),$page:n(".print-preview"),$modeToggles:n(".toggle-mode"),$richTextFields:n(".wpforms-entry-field-value-richtext"),printButtonSelector:".print",closeButtonSelector:".close-window",settingsButtonSelector:".button-settings",settingsMenuSelector:".actions",toggleModeSelector:".toggle-mode",toggleSelector:".switch",activeClass:"active"},i.vars.$modeToggles.each(i.presetSettingsValues),i.vars.$richTextFields.each(i.loadRichText),i.bindEvents()},bindEvents:function(){n(e).on("click",i.vars.printButtonSelector,i.print).on("click",i.vars.closeButtonSelector,i.close).on("click",i.vars.settingsButtonSelector,i.toggleSettings).on("click",i.vars.toggleModeSelector,i.toggleMode)},toggleMode:function(){var e=n(this),t=e.data("mode"),e=e.find(i.vars.toggleSelector),o=!e.hasClass(i.vars.activeClass);e.toggleClass(i.vars.activeClass),"compact"===t&&i.disableMode("maintain-layout"),"maintain-layout"===t&&i.disableMode("compact"),i.vars.$page.toggleClass("wpforms-preview-mode-"+t),i.cache.saveCookie(t,o)},disableMode:function(e){n(i.vars.toggleModeSelector+'[data-mode="'+e+'"]').find(i.vars.toggleSelector).removeClass(i.vars.activeClass),i.vars.$page.removeClass(i.prepareModeClass(e)),i.cache.saveCookie(e,!1)},presetSettingsValues:function(){var e=n(this),t=e.data("mode"),e=e.find(i.vars.toggleSelector),o=i.cache.getCookie();Object.prototype.hasOwnProperty.call(o,t)&&o[t]&&(e.addClass(i.vars.activeClass),i.vars.$page.addClass(i.prepareModeClass(t)))},prepareModeClass:function(e){return"wpforms-preview-mode-"+e},print:function(e){e.preventDefault(),t.print()},close:function(e){e.preventDefault(),t.close()},loadRichText:function(){const e=this;var t=n(this);t.on("load",function(){i.iframeStyles(e),i.updateRichTextIframeSize(e),i.modifyRichTextLinks(e)}),t.attr("src",t.data("src"))},updateRichTextIframeSize:function(e){var t;e&&e.contentWindow&&(t=e.contentWindow.document.documentElement||!1)&&(t=t.querySelector(".mce-content-body").scrollHeight,e.style.height=t+"px")},modifyRichTextLinks:function(e){n(e).contents().find("a").attr({target:"_blank",rel:"noopener"})},iframeStyles:function(e){var e=e.contentWindow.document,t=e.querySelector("head"),e=e.createElement("style"),o=i.vars.$body.css("font-family"),n=i.vars.$body.css("font-size"),s=i.vars.$body.css("line-height");e.setAttribute("type","text/css"),e.innerHTML="body.mce-content-body {\tmargin: 0 !important;\tbackground-color: transparent !important;\tfont-family: "+o+";\tfont-size: "+n+";\tline-height: "+s+";}*:first-child {\tmargin-top: 0}*:last-child {\tmargin-bottom: 0}ul, ol {\tpadding-inline-start: 30px;}li {\tlist-style-position: outside;}pre {\twhite-space: pre !important;\toverflow-x: auto !important;}a,img {\tdisplay: inline-block;}",t.appendChild(e)},toggleSettings:function(e){e.preventDefault(),n(this).toggleClass(i.vars.activeClass),n(i.vars.settingsMenuSelector).toggleClass(i.vars.activeClass)}};return i}(document,window,jQuery);WPFormsPrintEntryPage.init();