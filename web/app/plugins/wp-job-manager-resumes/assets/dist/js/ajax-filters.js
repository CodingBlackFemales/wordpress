jQuery(document).ready((function(e){const a=[];if(e(".resumes").on("update_results",(function(s,t,r){let i="";const n=e(this),d=n.find(".resume_filters"),o=n.find(".showing_resumes"),l=n.find(".resumes"),c=n.data("per_page"),u=n.data("orderby"),_=n.data("order"),h=n.data("featured"),m=e("div.resumes").index(this),g=["rand","rand_featured"].includes(u);if(a[m]&&a[m].abort(),r?e(".load_more_resumes",n).addClass("loading"):(e(l).addClass("loading"),e("li.resume, li.no_resumes_found",l).css("visibility","hidden")),1==n.data("show_filters")){const a=d.find(':input[name^="search_categories"]').map((function(){return e(this).val()})).get();let s="",r="",o="";const l=d.find(':input[name="search_keywords"]'),m=d.find(':input[name="search_location"]'),g=d.find(':input[name="search_skills"]');l.val()!=l.attr("placeholder")&&(s=l.val()),m.val()!=m.attr("placeholder")&&(r=m.val()),g.val()!=g.attr("placeholder")&&(o=g.val()),i={action:"resume_manager_get_resumes",search_keywords:s,search_location:r,search_categories:a,search_skills:o,per_page:c,orderby:u,order:_,page:t,featured:h,show_pagination:n.data("show_pagination"),form_data:d.serialize()}}else i={action:"resume_manager_get_resumes",search_categories:n.data("categories").split(","),search_keywords:n.data("keywords"),search_location:n.data("location"),search_skills:n.data("skills"),per_page:c,orderby:u,order:_,featured:h,page:t,show_pagination:n.data("show_pagination")};1===t&&n.removeData("loaded_ids"),g&&(i.exclude_ids=n.data("loaded_ids")),a[m]=e.ajax({type:"POST",url:resume_manager_ajax_filters.ajax_url,data:i,success(a){if(a)try{const s=n.data("loaded_ids")||[];n.data("loaded_ids",[...s,...a.post_ids]),a.showing?e(o).show().html("").append("<span>"+a.showing+"</span>"+a.showing_links):e(o).hide(),a.html&&(r?e(l).append(a.html):e(l).html(a.html)),1==n.data("show_pagination")?(n.find(".job-manager-pagination").remove(),a.pagination&&n.append(a.pagination)):((g||a.found_resumes&&a.max_num_pages!==t)&&(!g||a.found_resumes&&1!==a.max_num_pages)?e(".load_more_resumes",n).show().data("page",t):e(".load_more_resumes",n).hide(),e(".load_more_resumes",n).removeClass("loading"),e("li.resume",l).css("visibility","visible")),e(l).removeClass("loading"),n.triggerHandler("updated_results",a)}catch(e){}}})})),e("#search_keywords, #search_location, #search_categories, #search_skills").change((function(){e(this).closest("div.resumes").triggerHandler("update_results",[1,!1])})).change(),e(".resume_filters").on("click",".reset",(function(){const a=e(this).closest("div.resumes"),s=e(this).closest("form");return s.find(':input[name="search_keywords"]').not(':input[type="hidden"]').val(""),s.find(':input[name="search_location"]').not(':input[type="hidden"]').val(""),s.find(':input[name^="search_categories"]').not(':input[type="hidden"]').val(0).trigger("chosen:updated").trigger("change.select2"),s.find(':input[name="search_skills"]').not(':input[type="hidden"]').val(""),a.triggerHandler("reset"),a.triggerHandler("update_results",[1,!1]),!1})),e(".load_more_resumes").click((function(){const a=e(this).closest("div.resumes");let s=e(this).data("page");return s=s?parseInt(s):1,e(this).data("page",s+1),a.triggerHandler("update_results",[s+1,!0]),!1})),e("div.resumes").on("click",".job-manager-pagination a",(function(){const a=e(this).closest("div.resumes"),s=e(this).data("page");return a.triggerHandler("update_results",[s,!1]),!1})),e.isFunction(e.fn.select2)){const a={allowClear:!0,minimumResultsForSearch:10};1===parseInt(resume_manager_ajax_filters.is_rtl,10)&&(a.dir="rtl"),e('select[name^="search_categories"]:visible').select2(a)}else e.isFunction(e.fn.chosen)&&e('select[name^="search_categories"]:visible').chosen()}));