function ldGetUrlVars(){var vars={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(m,key,value){vars[key]=value}));return vars}jQuery((function($){var modal_wrapper,hash=window.location.hash;(function(){if(jQuery(".learndash-wrapper .ld-focus").length){var sidebar_wrapper=jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar-wrapper"),sidebar_current_topic=jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar-wrapper .ld-is-current-item");if(void 0!==sidebar_current_topic&&sidebar_current_topic.length)var sidebar_scrollTo=sidebar_current_topic;else{var sidebar_current_lesson=jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar-wrapper .ld-is-current-lesson");if(void 0!==sidebar_current_lesson&&sidebar_current_lesson.length)sidebar_scrollTo=sidebar_current_lesson}if(void 0!==sidebar_scrollTo&&sidebar_scrollTo.length){var offset_top=0;if(jQuery(".learndash-wrapper .ld-focus .ld-focus-header").length)offset_top+=jQuery(".learndash-wrapper .ld-focus .ld-focus-header").height();if(jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar .ld-course-navigation-heading").length)offset_top+=jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar .ld-course-navigation-heading").height();if(jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar .ld-focus-sidebar-wrapper").length)offset_top+=jQuery(".learndash-wrapper .ld-focus .ld-focus-sidebar .ld-focus-sidebar-wrapper").height();offset_top-=jQuery(sidebar_scrollTo).height(),sidebar_wrapper.animate({scrollTop:sidebar_scrollTo.offset().top-offset_top},1e3)}}}(),void 0!==(modal_wrapper=$(".learndash-wrapper-login-modal"))&&modal_wrapper.length&&$(modal_wrapper).prependTo("body"),"#login"==hash&&openLoginModal(),void 0!==ldGetUrlVars().login)&&("failed"==ldGetUrlVars().login&&openLoginModal());if(void 0!==ldGetUrlVars()["ld-topic-page"]){var topicIds=ldGetUrlVars()["ld-topic-page"].split("-"),topicId=Object.values(topicIds)[0],lesson=$("#ld-expand-"+topicId);ld_expand_element($(lesson).find(".ld-expand-button")),$("html, body").animate({scrollTop:$(lesson).offset().top},500)}$("body").on("click",'a[href="#login"]',(function(e){e.preventDefault(),openLoginModal()})),$("body").on("click",".ld-modal-closer",(function(e){e.preventDefault(),closeLoginModal()})),$("body").on("click","#ld-comments-post-button",(function(e){$(this).addClass("ld-open"),$("#ld-comments-form").removeClass("ld-collapsed"),$("textarea#comment").focus()})),$(document).on("keyup",(function(e){27===e.keyCode&&closeLoginModal()})),$(".learndash-wrapper").on("click","a.user_statistic",(function(e){e.preventDefault();var refId=jQuery(this).data("ref-id"),quizId=jQuery(this).data("quiz-id"),userId=jQuery(this).data("user-id"),statistic_nonce=jQuery(this).data("statistic-nonce"),post_data={action:"wp_pro_quiz_admin_ajax_statistic_load_user",func:"statisticLoadUser",data:{quizId:quizId,userId:userId,refId:refId,statistic_nonce:statistic_nonce,avg:0}};jQuery("#wpProQuiz_user_overlay, #wpProQuiz_loadUserData").show();var content=jQuery("#wpProQuiz_user_content").hide();jQuery.ajax({type:"POST",url:ldVars.ajaxurl,dataType:"json",cache:!1,data:post_data,error(jqXHR,textStatus,errorThrown){},success(reply_data){void 0!==reply_data.html&&(content.html(reply_data.html),jQuery("#wpProQuiz_user_content").show(),jQuery("body").trigger("learndash-statistics-contentchanged"),jQuery("#wpProQuiz_loadUserData").hide(),content.find(".statistic_data").on("click",(function(){return jQuery(this).parents("tr").next().toggle("fast"),!1})))}}),jQuery("#wpProQuiz_overlay_close").on("click",(function(){jQuery("#wpProQuiz_user_overlay").hide()}))})),focusMobileCheck(),$("body").on("click",".ld-focus-sidebar-trigger",(function(e){$(".ld-focus").hasClass("ld-focus-sidebar-collapsed")?openFocusSidebar():closeFocusSidebar()})),$("body").on("click",".ld-mobile-nav a",(function(e){e.preventDefault(),$(".ld-focus").hasClass("ld-focus-sidebar-collapsed")?openFocusSidebar():closeFocusSidebar()})),$(".ld-js-register-account").on("click",(function(e){e.preventDefault(),$(".ld-login-modal-register .ld-modal-text").slideUp("slow"),$(".ld-login-modal-register .ld-alert").slideUp("slow"),$(this).slideUp("slow",(function(){$("#ld-user-register").slideDown("slow")}))})),""==$(".registration-login-link").attr("href")&&($(".registration-login-link").on("click",(function(e){e.preventDefault(),$("#learndash_registerform, .registration-login").hide(),$(".registration-login-form, .show-register-form, .show-password-reset-link").show()})),$(".show-register-form").on("click",(function(e){e.preventDefault(),$(".registration-login-form, .show-register-form, .show-password-reset-link").hide(),$("#learndash_registerform, .registration-login").show()})));var windowWidth=$(window).width();if($(window).on("orientationchange",(function(){windowWidth=$(window).width()})),$(window).on("resize",(function(){$(this).width()!==windowWidth&&1024>=$(this).width()&&setTimeout((function(){1024>$(window).width()&&!$(".ld-focus").hasClass("ld-focus-sidebar-collapsed")||1024<=$(window).width()&&$(".ld-focus").hasClass("ld-focus-sidebar-filtered")?closeFocusSidebar():1024<=$(window).width()&&!$(".ld-focus").hasClass("ld-focus-sidebar-filtered")&&$(".ld-focus").hasClass("ld-focus-sidebar-collapsed")&&openFocusSidebar()}),50)})),$(".ld-course-status-content").length){var tallest=0;$(".ld-course-status-content").each((function(){$(this).height()>tallest&&(tallest=$(this).height())})),$(".ld-course-status-content").height(tallest)}function focusMobileCheck(){1024>$(window).width()&&($(".ld-focus").addClass("ld-focus-sidebar-collapsed"),$(".ld-focus").removeClass("ld-focus-initial-transition"),$(".ld-mobile-nav").removeClass("expanded"),positionTooltips())}function closeFocusSidebar(){$(".ld-focus").addClass("ld-focus-sidebar-collapsed"),$(".ld-mobile-nav").removeClass("expanded"),$(".ld-focus-sidebar-trigger .ld-icon").hasClass("ld-icon-arrow-left")?($(".ld-focus-sidebar-trigger .ld-icon").removeClass("ld-icon-arrow-left"),$(".ld-focus-sidebar-trigger .ld-icon").addClass("ld-icon-arrow-right")):$(".ld-focus-sidebar-trigger .ld-icon").hasClass("ld-icon-arrow-right")&&($(".ld-focus-sidebar-trigger .ld-icon").removeClass("ld-icon-arrow-right"),$(".ld-focus-sidebar-trigger .ld-icon").addClass("ld-icon-arrow-left")),positionTooltips()}function openFocusSidebar(){focusMobileCheck(),$(".ld-focus").removeClass("ld-focus-sidebar-collapsed"),$(".ld-mobile-nav").addClass("expanded"),$(".ld-focus-sidebar-trigger .ld-icon").hasClass("ld-icon-arrow-left")?($(".ld-focus-sidebar-trigger .ld-icon").removeClass("ld-icon-arrow-left"),$(".ld-focus-sidebar-trigger .ld-icon").addClass("ld-icon-arrow-right")):$(".ld-focus-sidebar-trigger .ld-icon").hasClass("ld-icon-arrow-right")&&($(".ld-focus-sidebar-trigger .ld-icon").removeClass("ld-icon-arrow-right"),$(".ld-focus-sidebar-trigger .ld-icon").addClass("ld-icon-arrow-left")),positionTooltips()}function ld_expand_button_state(state,elm){var $expandText=$(elm)[0].hasAttribute("data-ld-expand-text")?$(elm).attr("data-ld-expand-text"):"Expand",$collapseText=$(elm)[0].hasAttribute("data-ld-collapse-text")?$(elm).attr("data-ld-collapse-text"):"Collapse";"collapse"==state?($(elm).removeClass("ld-expanded"),"false"!==$collapseText&&$(elm).find(".ld-text").text($expandText)):($(elm).addClass("ld-expanded"),"false"!==$collapseText&&$(elm).find(".ld-text").text($collapseText))}function ld_expand_element(elm,collapse){if(void 0===collapse&&(collapse=!1),void 0===(elmParentWrapper=elm.parents(".ld-focus-sidebar"))||!elmParentWrapper.length)var elmParentWrapper=elm.parents(".learndash-wrapper");if(void 0!==elmParentWrapper&&elmParentWrapper.length){var $expanded=$(elm).hasClass("ld-expanded");if($(elm)[0]&&$(elm)[0].hasAttribute("data-ld-expands")){var $expands=$(elm).attr("data-ld-expands");if(void 0===$expands||!$expands.length)return;var $expandElm=$(elmParentWrapper).find('[data-ld-expand-id="'+$expands+'"]');if(void 0===$expandElm||!$expandElm.length)return;var $expandsChild=$($expandElm).find(".ld-item-list-item-expanded");$expandsChild.length&&($expandElm=$expandsChild);var totalHeight=0;if($expandElm.find("> *").each((function(){totalHeight+=$(this).outerHeight()})),$expandElm.attr("data-height",""+(totalHeight+50)),$(elmParentWrapper).find('[data-ld-expand-id="'+$expands+'"]')[0].hasAttribute("data-ld-expand-list")){var innerButtons=$(elmParentWrapper).find('[data-ld-expand-id="'+$expands+'"]').find(".ld-expand-button");$expanded?(ld_expand_button_state("collapse",elm),innerButtons.each((function(){ld_expand_element($(this),!0)}))):(ld_expand_button_state("expand",elm),innerButtons.each((function(){ld_expand_element($(this))})))}else $(elmParentWrapper).find('[data-ld-expand-id="'+$expands+'"]').length?$expanded||1==collapse?function(elm,$containerElm,$expandElm){$containerElm.removeClass("ld-expanded"),ld_expand_button_state("collapse",elm),$expandElm.css({"max-height":0})}(elm,$(elmParentWrapper).find('[data-ld-expand-id="'+$expands+'"]'),$expandElm):function(elm,$containerElm,$expandElm){$containerElm.addClass("ld-expanded"),ld_expand_button_state("expand",elm),$expandElm.css({"max-height":$expandElm.data("height")})}(elm,$(elmParentWrapper).find('[data-ld-expand-id="'+$expands+'"]'),$expandElm):console.log("LearnDash: No expandable content was found");positionTooltips()}}}window.matchMedia("(orientation: landscape)").addListener((function(e){e.matches&&1024<=$(window).width()&&!$(".ld-focus").hasClass("ld-focus-sidebar-filtered")&&$(".ld-focus").hasClass("ld-focus-sidebar-collapsed")&&openFocusSidebar()})),$(".ld-file-input").each((function(){var $input=$(this),$label=$input.next("label"),labelVal=$label.html();$input.on("change",(function(e){var fileName="";this.files&&1<this.files.length?fileName=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(fileName=e.target.value.split("\\").pop()),fileName?($label.find("span").html(fileName),$label.addClass("ld-file-selected"),$("#uploadfile_btn").attr("disabled",!1)):($label.html(labelVal),$label.removeClass("ld-file-selected"),$("#uploadfile_btn").attr("disabled",!0))})),$("#uploadfile_form").on("submit",(function(){$label.removeClass("ld-file-selected"),$("#uploadfile_btn").attr("disabled",!0)})),$input.on("focus",(function(){$input.addClass("has-focus")})).on("blur",(function(){$input.removeClass("has-focus")}))})),$("body").on("click",".ld-expand-button",(function(e){e.preventDefault(),ld_expand_element($(this)),positionTooltips()})),$("body").on("click",".ld-search-prompt",(function(e){e.preventDefault(),$("#course_name_field").focus(),ld_expand_element($(this))})),$("body").on("click",".ld-closer",(function(e){ld_expand_element($(".ld-search-prompt"),!0)})),$("body").on("click",".ld-tabs-navigation .ld-tab",(function(){var $tab=$("#"+$(this).attr("data-ld-tab"));$tab.length&&($(".ld-tabs-navigation .ld-tab.ld-active").removeClass("ld-active"),$(".ld-tabs-navigation .ld-tab").removeAttr("aria-selected"),$(this).addClass("ld-active"),$(this).attr("aria-selected","true"),$(".ld-tabs-content .ld-tab-content.ld-visible").removeClass("ld-visible"),$tab.addClass("ld-visible")),positionTooltips()}));var $tooltips=$("*[data-ld-tooltip]");function initTooltips(){if($("#learndash-tooltips").length&&($("#learndash-tooltips").remove(),$tooltips=$("*[data-ld-tooltip]")),$tooltips.length){$("body").prepend('<div id="learndash-tooltips"></div>');$tooltips.each((function(){var anchor=$(this);if(anchor.hasClass("ld-item-list-item")&&(anchor=anchor.find(".ld-item-title")),void 0!==anchor&&$(anchor).hasClass("ld-status-waiting")){$(anchor).on("click",(function(e){return e.preventDefault(),!1}));var parent_anchor=$(anchor).parents("a");void 0!==parent_anchor&&$(parent_anchor).on("click",(function(e){return e.preventDefault(),!1}))}anchor.offset().top,anchor.offset().left,anchor.outerWidth();var $content=$(this).attr("data-ld-tooltip"),$rel_id=Math.floor(99999*Math.random()),$tooltip='<span id="ld-tooltip-'+$rel_id+'" class="ld-tooltip">'+$content+"</span>";$(this).attr("data-ld-tooltip-id",$rel_id),$("#learndash-tooltips").append($tooltip);$tooltip=$("#ld-tooltip-"+$rel_id);$(this).on("mouseenter",(function(){$tooltip.addClass("ld-visible")})).on("mouseleave",(function(){$tooltip.removeClass("ld-visible")}))})),$(window).on("resize",(function(){positionTooltips()})),$(window).add(".ld-focus-sidebar-wrapper").on("scroll",(function(){$(".ld-visible.ld-tooltip").removeClass("ld-visible"),positionTooltips()})),positionTooltips()}}function openLoginModal(){var modal_wrapper=$(".learndash-wrapper-login-modal");void 0!==modal_wrapper&&modal_wrapper.length&&($(modal_wrapper).addClass("ld-modal-open"),$(modal_wrapper).removeClass("ld-modal-closed"),$("html, body").animate({scrollTop:$(".ld-modal",modal_wrapper).offset().top},50))}function closeLoginModal(){var modal_wrapper=$(".learndash-wrapper-login-modal");void 0!==modal_wrapper&&modal_wrapper.length&&($(modal_wrapper).removeClass("ld-modal-open"),$(modal_wrapper).addClass("ld-modal-closed"))}function positionTooltips(){void 0!==$tooltips&&setTimeout((function(){$tooltips.each((function(){var anchor=$(this),$rel_id=anchor.attr("data-ld-tooltip-id");$tooltip=$("#ld-tooltip-"+$rel_id),anchor.hasClass("ld-item-list-item")&&(anchor=anchor.find(".ld-status-icon"));var parent_focus=jQuery(anchor).parents(".ld-focus-sidebar"),left_post=anchor.offset().left+(anchor.outerWidth()+10);parent_focus.length&&(left_post=anchor.offset().left+(anchor.outerWidth()-18));var focusModeMainContentHeight=$(".ld-focus-main").height(),focusModeCurrentTooltipHeight=anchor.offset().top+-3;if(focusModeMainContentHeight)anchorTop=focusModeCurrentTooltipHeight<focusModeMainContentHeight?focusModeCurrentTooltipHeight:focusModeMainContentHeight,anchorLeft=left_post;else var anchorTop=anchor.offset().top+-3,anchorLeft=anchor.offset().left;$tooltip.css({top:anchorTop,left:anchorLeft,"margin-left":0,"margin-right":0}).removeClass("ld-shifted-left ld-shifted-right"),$tooltip.offset().left<=0&&$tooltip.css({"margin-left":Math.abs($tooltip.offset().left)}).addClass("ld-shifted-left");var $tooltipRight=$(window).width()-($tooltip.offset().left+$tooltip.outerWidth());0>=$tooltipRight&&360<$(window).width()&&$tooltip.css({"margin-right":Math.abs($tooltipRight)}).addClass("ld-shifted-right")}))}),500)}if(initTooltips(),$("body").on("click","#ld-profile .ld-reset-button",(function(e){e.preventDefault(),$("#ld-profile #course_name_field").val("");var searchVars={shortcode_instance:$("#ld-profile").data("shortcode_instance")};searchVars["ld-profile-search"]=$(this).parents(".ld-item-search-wrapper").find("#course_name_field").val(),searchVars["ld-profile-search-nonce"]=$(this).parents(".ld-item-search-wrapper").find("form.ld-item-search-fields").data("nonce"),$("#ld-profile #ld-main-course-list").addClass("ld-loading"),$.ajax({type:"GET",url:ldVars.ajaxurl+"?action=ld30_ajax_profile_search",data:searchVars,success(response){void 0!==response.data.markup&&($("#ld-profile").html(response.data.markup),ld_expand_element("#ld-profile .ld-search-prompt",!1))}})})),$("body").on("submit",".ld-item-search-fields",(function(e){e.preventDefault();var searchVars={shortcode_instance:$("#ld-profile").data("shortcode_instance")};searchVars["ld-profile-search"]=$(this).parents(".ld-item-search-wrapper").find("#course_name_field").val(),searchVars["ld-profile-search-nonce"]=$(this).parents(".ld-item-search-wrapper").find("form.ld-item-search-fields").data("nonce"),$("#ld-profile #ld-main-course-list").addClass("ld-loading"),$.ajax({type:"GET",url:ldVars.ajaxurl+"?action=ld30_ajax_profile_search",data:searchVars,success(response){void 0!==response.data.markup&&($("#ld-profile").html(response.data.markup),ld_expand_element("#ld-profile .ld-search-prompt",!1))}})})),$("body").on("click",".ld-pagination a",(function(e){e.preventDefault();var linkVars={},parentVars={};if($(this).attr("href").replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(m,key,value){linkVars[key]=value})),linkVars.pager_nonce=$(this).parents(".ld-pagination").data("pager-nonce"),linkVars.pager_results=$(this).parents(".ld-pagination").data("pager-results"),linkVars.context=$(this).data("context"),console.log("linkVars[%o]",linkVars),parentVars.currentTarget=e.currentTarget,"profile"!=linkVars.context&&(linkVars.lesson_id=$(this).data("lesson_id"),linkVars.course_id=$(this).data("course_id"),$(".ld-course-nav-"+linkVars.course_id).length&&(linkVars.widget_instance=$(".ld-course-nav-"+linkVars.course_id).data("widget_instance"))),"course_topics"==linkVars.context&&($("#ld-topic-list-"+linkVars.lesson_id).addClass("ld-loading"),$("#ld-nav-content-list-"+linkVars.lesson_id).addClass("ld-loading")),"course_content_shortcode"==linkVars.context)parentVars.parent_container=$(parentVars.currentTarget).closest(".ld-course-content-"+linkVars.course_id),void 0!==parentVars.parent_container&&parentVars.parent_container.length?($(parentVars.parent_container).addClass("ld-loading"),linkVars.shortcode_instance=$(parentVars.parent_container).data("shortcode_instance")):($(".ld-course-content-"+linkVars.course_id).addClass("ld-loading"),linkVars.shortcode_instance=$(".ld-course-content-"+linkVars.course_id).data("shortcode_instance"));else if("course_lessons"==linkVars.context){var parent_container;void 0!==parentVars.parent_container&&parentVars.parent_container.length||void 0!==(parent_container=$(parentVars.currentTarget).parents(".ld-lesson-navigation"))&&parent_container.length&&(parentVars.context_sub="course_navigation_widget",parentVars.parent_container=$(parentVars.currentTarget).parents("#ld-lesson-list-"+linkVars.course_id)),void 0!==parentVars.parent_container&&parentVars.parent_container.length||void 0!==(parent_container=$(parentVars.currentTarget).parents(".ld-focus-sidebar-wrapper"))&&parent_container.length&&(parentVars.context_sub="focus_mode_sidebar",parentVars.parent_container=$(parentVars.currentTarget).parents("#ld-lesson-list-"+linkVars.course_id)),void 0!==parentVars.parent_container&&parentVars.parent_container.length||(parentVars.parent_container=$(parentVars.currentTarget).closest("#ld-item-list-"+linkVars.course_id,"#ld-lesson-list-"+linkVars.course_id)),void 0!==parentVars.parent_container&&parentVars.parent_container.length?$(parentVars.parent_container).addClass("ld-loading"):($("#ld-item-list-"+linkVars.course_id).addClass("ld-loading"),$("#ld-lesson-list-"+linkVars.course_id).addClass("ld-loading"))}"profile"==linkVars.context&&($("#ld-profile #ld-main-course-list").addClass("ld-loading"),linkVars.shortcode_instance=$("#ld-profile").data("shortcode_instance")),"profile_quizzes"==linkVars.context&&$("#ld-course-list-item-"+linkVars.pager_results.quiz_course_id+" .ld-item-contents").addClass("ld-loading"),"course_info_courses"==linkVars.context&&($(".ld-user-status").addClass("ld-loading"),linkVars.shortcode_instance=$(".ld-user-status").data("shortcode-atts")),"group_courses"==linkVars.context&&(linkVars.group_id=$(this).data("group_id"),void 0!==linkVars.group_id&&void 0!==(parent_container=$(parentVars.currentTarget).parents(".ld-group-courses-"+linkVars.group_id))&&parent_container.length&&($(parent_container).addClass("ld-loading"),parentVars.parent_container=parent_container)),$.ajax({type:"GET",url:ldVars.ajaxurl+"?action=ld30_ajax_pager",data:linkVars,success(response){var elm,totalHeight;"course_topics"==linkVars.context&&($("#ld-topic-list-"+linkVars.lesson_id).length&&(void 0!==response.data.topics&&$("#ld-topic-list-"+linkVars.lesson_id).html(response.data.topics),void 0!==response.data.pager&&$("#ld-expand-"+linkVars.lesson_id).find(".ld-table-list-footer").html(response.data.pager),elm=$(".ld-lesson-item-"+linkVars.lesson_id).find(".ld-item-list-item-expanded"),totalHeight=0,elm.find("> *").each((function(){totalHeight+=$(this).outerHeight()})),elm.attr("data-height",""+(totalHeight+50)),elm.css({"max-height":totalHeight+50}),$("#ld-topic-list-"+linkVars.lesson_id).removeClass("ld-loading")),$("#ld-nav-content-list-"+linkVars.lesson_id).length&&(void 0!==response.data.nav_topics&&$("#ld-nav-content-list-"+linkVars.lesson_id).find(".ld-table-list-items").html(response.data.topics),void 0!==response.data.pager&&$("#ld-nav-content-list-"+linkVars.lesson_id).find(".ld-table-list-footer").html(response.data.pager),$("#ld-nav-content-list-"+linkVars.lesson_id).removeClass("ld-loading"))),"course_content_shortcode"==linkVars.context?void 0!==response.data.markup&&(void 0!==parentVars.parent_container&&parentVars.parent_container.length?$(parentVars.parent_container).replaceWith(response.data.markup):$("#learndash_post_"+linkVars.course_id).replaceWith(response.data.markup)):"course_lessons"==linkVars.context&&(void 0!==parentVars.parent_container&&parentVars.parent_container.length?"course_navigation_widget"==parentVars.context_sub||"focus_mode_sidebar"==parentVars.context_sub?void 0!==response.data.nav_lessons&&$(parentVars.parent_container).html(response.data.nav_lessons).removeClass("ld-loading"):void 0!==response.data.lessons&&$(parentVars.parent_container).html(response.data.lessons).removeClass("ld-loading"):($("#ld-item-list-"+linkVars.course_id).length&&void 0!==response.data.lessons&&$("#ld-item-list-"+linkVars.course_id).html(response.data.lessons).removeClass("ld-loading"),$("#ld-lesson-list-"+linkVars.course_id).length&&void 0!==response.data.nav_lessons&&$("#ld-lesson-list-"+linkVars.course_id).html(response.data.nav_lessons).removeClass("ld-loading"))),"group_courses"==linkVars.context&&void 0!==parentVars.parent_container&&parentVars.parent_container.length&&void 0!==response.data.markup&&$(parentVars.parent_container).html(response.data.markup).removeClass("ld-loading"),"profile"==linkVars.context&&void 0!==response.data.markup&&$("#ld-profile").html(response.data.markup),"profile_quizzes"==linkVars.context&&void 0!==response.data.markup&&($("#ld-course-list-item-"+linkVars.pager_results.quiz_course_id+" .ld-item-list-item-expanded .ld-item-contents").replaceWith(response.data.markup),$("#ld-course-list-item-"+linkVars.pager_results.quiz_course_id).get(0).scrollIntoView({behavior:"smooth"})),"course_info_courses"==linkVars.context&&void 0!==response.data.markup&&$(".ld-user-status").replaceWith(response.data.markup),$("body").trigger("ld_has_paginated"),initTooltips()}})})),$("#learndash_timer").length){var timer_el=jQuery("#learndash_timer"),timer_seconds=timer_el.attr("data-timer-seconds"),timer_button_el=jQuery(timer_el.attr("data-button")),cookie_key=timer_el.attr("data-cookie-key");if(void 0!==cookie_key)var cookie_name="learndash_timer_cookie_"+cookie_key;else cookie_name="learndash_timer_cookie";cookie_timer_seconds=jQuery.cookie(cookie_name),"undefined"!=typeof cookie_timer_seconds&&(timer_seconds=parseInt(cookie_timer_seconds)),0==timer_seconds&&$(timer_el).hide(),$(timer_button_el).on("learndash-time-finished",(function(){$(timer_el).hide()}))}function update_payment_forms(data){$("#total-row").attr("data-total",data.total.value),$('form[name="buynow"] input[name="amount"]').val(data.total.value),$('form.learndash-stripe-checkout input[name="stripe_price"]').val(data.total.stripe_value);const stripe_course_id=$('.learndash-stripe-checkout input[name="stripe_course_id"]').val();stripe_course_id&&(LD_Cookies.remove("ld_stripe_session_id_"+stripe_course_id),LD_Cookies.remove("ld_stripe_connect_session_id_"+stripe_course_id)),"function"==typeof ld_init_stripe_legacy&&ld_init_stripe_legacy()}$(document).on("learndash_video_disable_assets",(function(event,status){if("undefined"==typeof learndash_video_data)return!1;"BEFORE"==learndash_video_data.videos_shown&&(1==status?($(".ld-lesson-topic-list").hide(),$(".ld-lesson-navigation").find("#ld-nav-content-list-"+ldVars.postID).addClass("user_has_no_access"),$(".ld-quiz-list").hide()):($(".ld-lesson-topic-list").slideDown(),$(".ld-quiz-list").slideDown(),$(".ld-lesson-navigation").find("#ld-nav-content-list-"+ldVars.postID).removeClass("user_has_no_access")))})),$(".learndash-wrapper").on("click",'.wpProQuiz_questionListItem input[type="radio"]',(function(e){$(this).parents(".wpProQuiz_questionList").find("label").removeClass("is-selected"),$(this).parents("label").addClass("is-selected")})),$(".learndash-wrapper").on("click",'.wpProQuiz_questionListItem input[type="checkbox"]',(function(e){jQuery(e.currentTarget).is(":checked")?$(this).parents("label").addClass("is-selected"):$(this).parents("label").removeClass("is-selected")})),$(".btn-join").on("click",(function(e){if($(this).hasClass("btn-disabled"))return e.preventDefault(),!1;return 0===parseFloat($("#total-row").attr("data-total"))?($.ajax({type:"POST",url:ldVars.ajaxurl,dataType:"json",cache:!1,data:{action:"learndash_enroll_with_zero_price",nonce:$("#apply-coupon-form").data("nonce"),post_id:$("#apply-coupon-form").data("post-id")},success(response){response.success?window.location.replace(response.data.redirect_url):alert(response.data.message)}}),e.preventDefault(),!1):void 0})),$("#apply-coupon-form").on("submit",(function(e){e.preventDefault(),$.ajax({type:"POST",url:ldVars.ajaxurl,dataType:"json",cache:!1,data:{action:"learndash_apply_coupon",nonce:$(this).data("nonce"),coupon_code:$(this).find("#coupon-field").val(),post_id:$(this).data("post-id")},success(response){$("#coupon-alerts .coupon-alert").hide();const $alert=$("#coupon-alerts").find(response.success?".coupon-alert-success":".coupon-alert-warning"),$coupon_row=$("#coupon-row");response.success&&($coupon_row.find(".purchase-label > span").html(response.data.coupon_code),$coupon_row.find(".purchase-value span").html(response.data.discount),$coupon_row.css("display","flex").hide().fadeIn(),$("#total-row .purchase-value").html(response.data.total.formatted),$("#totals").show(),update_payment_forms(response.data)),$alert.find(".ld-alert-messages").html(response.data.message),$alert.fadeIn()}})})),$("#remove-coupon-form").on("submit",(function(e){e.preventDefault(),$.ajax({type:"POST",url:ldVars.ajaxurl,dataType:"json",cache:!1,data:{action:"learndash_remove_coupon",nonce:$(this).data("nonce"),post_id:$(this).data("post-id")},success(response){$("#coupon-alerts .coupon-alert").hide();const $alert=$("#coupon-alerts").find(response.success?".coupon-alert-success":".coupon-alert-warning");response.success&&($("#coupon-row").hide(),$("#coupon-field").val(""),$("#price-row .purchase-value").html(response.data.total.formatted),$("#subtotal-row .purchase-value").html(response.data.total.formatted),$("#total-row .purchase-value").html(response.data.total.formatted),$("#totals").hide(),update_payment_forms(response.data)),$alert.find(".ld-alert-messages").html(response.data.message),$alert.fadeIn()}})}))}));